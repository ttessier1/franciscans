{"version":3,"file":"fsfilters.min.js","names":["akeeba","Fsfilters","currentRoot","activeRootChanged","elRoot","document","getElementById","data","root","options","selectedIndex","value","crumbs","node","load","activeTabRootChanged","loadTab","verb","json","JSON","stringify","new_data","akaction","System","doAjax","response","render","toggle","caller","callback","use_inner_child","get","set","icon_span","querySelector","existingIconClass","className","timer","setInterval","clearInterval","indexOf","addClass","removeClass","storedClassName","success","newstate","modalErrorHandler","Text","_","replace","msg","params","errorCallback","renderCrumbs","akfolders","innerHTML","length","renderParentFolderElement","Object","keys","folders","headerFilters","headerDirs","createElement","index","filter","ui_icon","setAttribute","toUpperCase","applyTo","insertAdjacentHTML","addEventListener","selected","j","children","folderElement","item","hasClass","parentNode","triggerEvent","appendChild","elButton","folder","hasOwnProperty","def","uielement","available_filters","ctFilter","elFolderName","textContent","link","elImg","getOptions","style","marginTop","marginLeft","akfiles","files","headerFiles","ctFiles","elFile","elFilename","fileName","ctFileFilter","elName","elSize","size","nuke","renderTab","addRow","append_to_here","type_text","type","elRow","elFilterTitle","elIcons","elDeleteButton","elRemove","removeChild","activeRoot","elEditButton","inputBox","display","elInput","new_value","that","old_node","new_node","elEditContainer","elFilterName","focus","addNew","filtertype","trList","lastTr","b","tbody","list","forEach","crumbsdata","newCrumb","push","counter","crumb","slice","akcrumbs","myLi","elLink","elSeparator","elFolderUp","elCrumbs","elParentFolder","documentReady","guiData"],"sources":["fsfilters.js"],"sourcesContent":["/**\n * @package   solo\n * @copyright Copyright (c)2014-2024 Nicholas K. Dionysopoulos / Akeeba Ltd\n * @license   GNU General Public License version 3, or later\n */\n\n// Object initialisation\nif (typeof akeeba == \"undefined\")\n{\n    var akeeba = {};\n}\n\nif (typeof akeeba.Fsfilters == \"undefined\")\n{\n    akeeba.Fsfilters = {\n        currentRoot: null\n    }\n}\n\nakeeba.Fsfilters.activeRootChanged = function ()\n{\n    var elRoot  = document.getElementById(\"active_root\");\n    var data    = {};\n    data.root   = elRoot.options[elRoot.selectedIndex].value;\n    data.crumbs = [];\n    data.node   = \"\";\n    akeeba.Fsfilters.load(data);\n};\n\nakeeba.Fsfilters.activeTabRootChanged = function ()\n{\n    var elRoot = document.getElementById(\"active_root\");\n    akeeba.Fsfilters.loadTab(elRoot.options[elRoot.selectedIndex].value);\n};\n\n/**\n * Loads the contents of a directory\n *\n * @param  data\n */\nakeeba.Fsfilters.load = function (data)\n{\n    // Add the verb to the data\n    data.verb = \"list\";\n\n    // Convert to JSON\n    var json = JSON.stringify(data);\n\n    // Assemble the data array and send the AJAX request\n    var new_data      = {};\n    new_data.akaction = json;\n\n    akeeba.System.doAjax(new_data, function (response)\n    {\n        akeeba.Fsfilters.render(response);\n    }, null, false, 15000);\n};\n\n/**\n * Toggles a filesystem filter\n */\nakeeba.Fsfilters.toggle = function (data, caller, callback, use_inner_child)\n{\n    if (use_inner_child == null)\n    {\n        use_inner_child = true;\n    }\n\n    // Make the icon spin\n    if (caller != null)\n    {\n        // Do not allow multiple simultaneous AJAX requests on the same object\n        if (akeeba.System.data.get(caller, \"loading\", false) == true)\n        {\n            return;\n        }\n\n        akeeba.System.data.set(caller, \"loading\", true);\n        var icon_span = caller;\n\n        if (use_inner_child)\n        {\n            icon_span = caller.querySelector(\"span\");\n        }\n\n        var existingIconClass = akeeba.System.data.get(caller, \"iconClass\", \"\");\n\n        if (!existingIconClass)\n        {\n            akeeba.System.data.set(caller, \"iconClass\", icon_span.className);\n        }\n\n        icon_span.className = \"ak-toggle-button ak-toggle-button-spinning akion-android-star-outline\";\n\n        var timer = setInterval(function ()\n        {\n            if (typeof icon_span.className === \"undefined\")\n            {\n                clearInterval(timer);\n\n                return;\n            }\n\n            if (icon_span.className.indexOf(\"akion-android-star-outline\") != -1)\n            {\n                akeeba.System.removeClass(icon_span, \"akion-android-star-outline\");\n                akeeba.System.addClass(icon_span, \"akion-android-star\");\n            }\n            else if (icon_span.className.indexOf(\"akion-android-star\") != -1)\n            {\n                akeeba.System.addClass(icon_span, \"akion-android-star-outline\");\n                akeeba.System.removeClass(icon_span, \"akion-android-star\");\n            }\n        }, 250);\n\n        akeeba.System.data.set(caller, \"akeebatimer\", timer);\n    }\n\n    // Convert to JSON\n    var json     = JSON.stringify(data);\n    // Assemble the data array and send the AJAX request\n    var new_data = {\n        akaction: json\n    };\n\n    akeeba.System.doAjax(new_data, function (response)\n    {\n        if (caller != null)\n        {\n            var timer = akeeba.System.data.get(caller, \"akeebatimer\");\n            clearInterval(timer);\n\n            var storedClassName = akeeba.System.data.get(caller, \"iconClass\");\n\n            if (storedClassName)\n            {\n                icon_span.className = storedClassName;\n            }\n\n            akeeba.System.data.set(caller, \"iconClass\", null);\n            akeeba.System.data.set(caller, \"loading\", null);\n        }\n\n        if (response.success == true)\n        {\n            if (caller != null)\n            {\n                if (use_inner_child)\n                {\n                    // Update the on-screen filter state\n                    if (response.newstate == true)\n                    {\n                        akeeba.System.removeClass(caller, \"akeeba-btn--grey\");\n                        akeeba.System.addClass(caller, \"akeeba-btn--orange\");\n                    }\n                    else\n                    {\n                        akeeba.System.removeClass(caller, \"akeeba-btn--orange\");\n                        akeeba.System.addClass(caller, \"akeeba-btn--grey\");\n                    }\n                }\n            }\n\n            if (!(callback == null))\n            {\n                callback(response, caller);\n            }\n        }\n        else\n        {\n            if (!(callback == null))\n            {\n                callback(response, caller);\n            }\n\n            akeeba.System.modalErrorHandler(\n                akeeba.System.Text._(\"COM_AKEEBA_FILEFILTERS_LABEL_UIERRORFILTER\").replace(\"%s\", data.node));\n        }\n    }, function (msg)\n    {\n        // Error handler\n        if (caller != null)\n        {\n            var timer = akeeba.System.data.get(caller, \"akeebatimer\");\n            clearInterval(timer);\n            icon_span.className = akeeba.System.data.get(caller, \"iconClass\");\n            akeeba.System.data.set(caller, \"iconClass\");\n            akeeba.System.data.set(caller, \"loading\");\n        }\n\n        akeeba.System.params.errorCallback(msg);\n    }, true, 15000);\n};\n\n/**\n * Renders the Filesystem Filters page\n * @param data\n * @return\n */\nakeeba.Fsfilters.render = function (data)\n{\n    akeeba.Fsfilters.currentRoot = data.root;\n\n    // ----- Render the crumbs bar\n    crumbs = akeeba.Fsfilters.renderCrumbs(data);\n\n    // ----- Render the subdirectories\n    var akfolders       = document.getElementById(\"folders\");\n    akfolders.innerHTML = \"\";\n\n    if (data.crumbs.length > 0)\n    {\n        akeeba.Fsfilters.renderParentFolderElement();\n    }\n\n    // Append the \"Apply to all\" buttons\n    if (Object.keys(data.folders).length > 0)\n    {\n        var headerFilters    = [\"directories_all\", \"skipdirs_all\", \"skipfiles_all\"];\n        var headerDirs       = document.createElement(\"div\");\n        headerDirs.className = \"folder-header folder-container\";\n\n        for (var index = 0; index < headerFilters.length; index++)\n        {\n            var filter = headerFilters[index];\n\n            var ui_icon       = document.createElement(\"span\");\n            ui_icon.className = \"folder-icon-container akeeba-btn--mini akeeba-btn--grey\";\n            // ui_icon.setAttribute(\n            //     \"title\",\n            //     \"<div class=\\\"tooltip-arrow-up-leftaligned\\\"></div><div>\" + akeeba.System.Text._(\n            //     \"COM_AKEEBA_FILEFILTERS_TYPE_\" + filter.toUpperCase()) + \"</div>\"\n            // );\n            // ui_icon.setAttribute(\"data-akeeba-tooltip-position\", \"right\");\n            ui_icon.setAttribute(\"title\", akeeba.System.Text._(\"COM_AKEEBA_FILEFILTERS_TYPE_\" + filter.toUpperCase()));\n\n            var applyTo = \"\";\n\n            switch (filter)\n            {\n                case \"directories_all\":\n                    applyTo = \"akion-close-circled\";\n                    ui_icon.insertAdjacentHTML(\n                        \"beforeend\", \"<span class=\\\"ak-toggle-button akion-close-circled\\\"></span>\");\n                    break;\n                case \"skipdirs_all\":\n                    applyTo = \"akion-folder\";\n                    ui_icon.insertAdjacentHTML(\"beforeend\", \"<span class=\\\"ak-toggle-button akion-folder\\\"></span>\");\n                    break;\n                case \"skipfiles_all\":\n                    applyTo = \"akion-document\";\n                    ui_icon.insertAdjacentHTML(\"beforeend\", \"<span class=\\\"ak-toggle-button akion-document\\\"></span>\");\n                    break;\n            }\n\n            akeeba.System.addEventListener(ui_icon, \"click\", function (ui_icon, applyTo)\n            {\n                return function ()\n                {\n                    var selected;\n\n                    if (ui_icon.className.indexOf(\"akeeba-btn--orange\") != -1)\n                    {\n                        akeeba.System.removeClass(ui_icon, \"akeeba-btn--orange\");\n                        akeeba.System.addClass(ui_icon, \"akeeba-btn--grey\");\n                        selected = false;\n                    }\n                    else\n                    {\n                        akeeba.System.removeClass(ui_icon, \"akeeba-btn--grey\");\n                        akeeba.System.addClass(ui_icon, \"akeeba-btn--orange\");\n                        selected = true;\n                    }\n\n                    // Start iterating from the second element (the first is the header, we want to skip it!)\n                    for (var j = 1; j < akfolders.children.length; j++)\n                    {\n                        var folderElement = akfolders.children[j];\n                        var item          = folderElement.querySelector(\"span.\" + applyTo);\n\n                        var hasClass = item.parentNode.className.indexOf(\"akeeba-btn--orange\") != -1;\n\n                        // I have to exclude items that have the same state of the desired one, otherwise I'll toggle it\n                        if ((!selected && !hasClass) || (selected && hasClass))\n                        {\n                            continue;\n                        }\n\n                        akeeba.System.triggerEvent(item, \"click\");\n                    }\n                };\n            }(ui_icon, applyTo));\n\n            headerDirs.appendChild(ui_icon);\n\n            /**\n             * DO NOT move this before we add the akion-* span. This would make the icon the last child of the button\n             * anchor tag which results in a smaller amount of margin to the right of the icon, making the buttons\n             * look squished. Putting this JS call after we have rendered the icon causes the tooltip markup to be added\n             * after the icon, therefore the CSS renders an equal margin to the left and right of the icon. As a result\n             * the button looks nice and wide.\n             */\n            //akeeba.Tooltip.simpleTooltip(ui_icon);\n        }\n\n        var elButton       = document.createElement(\"span\");\n        elButton.className = \"folder-name\";\n        elButton.innerHTML =\n            \"<span class=\\\"pull-left akion-arrow-down-a\\\"></span>\" + akeeba.System.Text._(\n            \"COM_AKEEBA_FILEFILTERS_TYPE_APPLYTOALLDIRS\");\n        headerDirs.appendChild(elButton);\n        akfolders.appendChild(headerDirs);\n    }\n\n    for (var folder in data.folders)\n    {\n        if (!data.folders.hasOwnProperty(folder))\n        {\n            return;\n        }\n\n        var def = data.folders[folder];\n\n        uielement           = document.createElement(\"div\");\n        uielement.className = \"folder-container\";\n\n        var available_filters = [\"directories\", \"skipdirs\", \"skipfiles\"];\n\n        for (var ctFilter = 0; ctFilter < available_filters.length; ctFilter++)\n        {\n            var filter = available_filters[ctFilter];\n\n            var ui_icon       = document.createElement(\"span\");\n            ui_icon.className = \"akeeba-btn--mini akeeba-btn--grey folder-icon-container\";\n            // ui_icon.setAttribute(\n            //     \"title\",\n            //     \"<div class=\\\"tooltip-arrow-up-leftaligned\\\"></div><div>\" + akeeba.System.Text._(\n            //     \"COM_AKEEBA_FILEFILTERS_TYPE_\" + filter.toUpperCase()) + \"</div>\"\n            // );\n            ui_icon.setAttribute(\"title\", akeeba.System.Text._(\"COM_AKEEBA_FILEFILTERS_TYPE_\" + filter.toUpperCase()));\n\n            switch (filter)\n            {\n                case \"directories\":\n                    ui_icon.insertAdjacentHTML(\n                        \"beforeend\", \"<span class=\\\"ak-toggle-button akion-close-circled\\\"></span>\");\n                    break;\n                case \"skipdirs\":\n                    ui_icon.insertAdjacentHTML(\"beforeend\", \"<span class=\\\"ak-toggle-button akion-folder\\\"></span>\");\n                    break;\n                case \"skipfiles\":\n                    ui_icon.insertAdjacentHTML(\"beforeend\", \"<span class=\\\"ak-toggle-button akion-document\\\"></span>\");\n                    break;\n            }\n\n            ui_icon.setAttribute(\"data-akeeba-tooltip-position\", \"right\");\n            //akeeba.Tooltip.simpleTooltip(ui_icon);\n\n            switch (def[filter])\n            {\n                case 2:\n                    akeeba.System.removeClass(ui_icon, \"akeeba-btn--grey\");\n                    akeeba.System.addClass(ui_icon, \"akeeba-btn--red\");\n                    break;\n\n                case 1:\n                    akeeba.System.removeClass(ui_icon, \"akeeba-btn--grey\");\n                    akeeba.System.addClass(ui_icon, \"akeeba-btn--orange\");\n\n                // Don't break; we have to add the handler!\n\n                case 0:\n                    akeeba.System.addEventListener(ui_icon, \"click\", function (folder, filter, ui_icon)\n                    {\n                        return function ()\n                        {\n                            var new_data = {\n                                root:   data.root,\n                                crumbs: crumbs,\n                                node:   folder,\n                                filter: filter,\n                                verb:   \"toggle\"\n                            };\n\n                            akeeba.Fsfilters.toggle(new_data, ui_icon);\n                        };\n                    }(folder, filter, ui_icon));\n            }\n\n            uielement.appendChild(ui_icon);\n        }\n\n        // Add the folder label and make clicking on it load its listing\n        var elFolderName         = document.createElement(\"span\");\n        elFolderName.textContent = folder;\n\n        if (def[\"link\"])\n        {\n            elFolderName.innerHTML =\n                \"<span class=\\\"akion-link\\\" aria-hidden=\\\"true\\\"></span> \" + elFolderName.innerHTML;\n        }\n\n        elFolderName.className = \"folder-name\";\n        akeeba.System.addEventListener(elFolderName, \"click\", function (folder)\n        {\n            return function ()\n            {\n                // Show \"loading\" animation\n                var elImg = document.createElement(\"img\");\n                elImg.setAttribute(\"src\", akeeba.System.getOptions(\"akeeba.Fsfilters.loadingGif\", \"\"));\n                elImg.setAttribute(\"width\", 16);\n                elImg.setAttribute(\"height\", 11);\n                elImg.setAttribute(\"border\", 0);\n                elImg.setAttribute(\"alt\", \"Loading...\");\n                elImg.style.marginTop  = \"3px\";\n                elImg.style.marginLeft = \"5px\";\n                this.appendChild(elImg);\n\n                var new_data = {\n                    root:   data.root,\n                    crumbs: crumbs,\n                    node:   folder\n                };\n                akeeba.Fsfilters.load(new_data);\n            };\n        }(folder));\n\n        uielement.appendChild(elFolderName);\n        // Render\n        akfolders.appendChild(uielement);\n    }\n\n    // ----- Render the files\n    var akfiles       = document.getElementById(\"files\");\n    akfiles.innerHTML = \"\";\n\n    // Append the \"Apply to all\" buttons\n    if (Object.keys(data.files).length > 0)\n    {\n        var headerFiles       = document.createElement(\"div\");\n        headerFiles.className = \"file-header file-container\";\n\n        var ui_icon       = document.createElement(\"span\");\n        ui_icon.className = \"file-icon-container akeeba-btn--mini akeeba-btn--grey\";\n        ui_icon.insertAdjacentHTML(\"beforeend\", \"<span class=\\\"ak-toggle-button akion-close-circled\\\"></span>\");\n\n        // ui_icon.setAttribute(\n        //     \"title\",\n        //     \"<div class=\\\"tooltip-arrow-up-leftaligned\\\"></div><div>\" + akeeba.System.Text._(\n        //     \"COM_AKEEBA_FILEFILTERS_TYPE_FILES_ALL\") + \"</div>\"\n        // );\n        // ui_icon.setAttribute(\"data-akeeba-tooltip-position\", \"right\");\n        //akeeba.Tooltip.simpleTooltip(ui_icon);\n        ui_icon.setAttribute(\"title\", akeeba.System.Text._(\"COM_AKEEBA_FILEFILTERS_TYPE_FILES_ALL\"));\n\n        akeeba.System.addEventListener(ui_icon, \"click\", function (ui_icon)\n        {\n            return function ()\n            {\n                var selected;\n\n                if (this.className.indexOf(\"akeeba-btn--orange\") != -1)\n                {\n                    akeeba.System.removeClass(this, \"akeeba-btn--orange\");\n                    akeeba.System.addClass(this, \"akeeba-btn--grey\");\n                    selected = false;\n                }\n                else\n                {\n                    akeeba.System.removeClass(this, \"akeeba-btn--grey\");\n                    akeeba.System.addClass(this, \"akeeba-btn--orange\");\n                    selected = true;\n                }\n\n                // We iterate from the second element since we don't want to trigger the header (would cause infinite\n                // loop)\n                var akfiles = document.getElementById(\"files\");\n                for (var ctFiles = 1; ctFiles < akfiles.children.length; ctFiles++)\n                {\n                    var elFile = akfiles.children[ctFiles];\n                    var item   = elFile.querySelector(\"span.akion-close-circled\");\n\n                    var hasClass = item.parentNode.className.indexOf(\"akeeba-btn--orange\") != -1;\n\n                    // I have to exclude items that have the same state of the desidered one, otherwise I'll toggle it\n                    if ((!selected && !hasClass) || (selected && hasClass))\n                    {\n                        continue;\n                    }\n\n                    akeeba.System.triggerEvent(item, \"click\");\n                }\n            };\n        }(ui_icon));\n\n        headerFiles.appendChild(ui_icon);\n\n        var elFilename       = document.createElement(\"span\");\n        elFilename.className = \"file-name\";\n        elFilename.innerHTML =\n            \"<span class=\\\"pull-left akion-arrow-down-a\\\"></span>\" + akeeba.System.Text._(\n            \"COM_AKEEBA_FILEFILTERS_TYPE_APPLYTOALLFILES\");\n        headerFiles.appendChild(elFilename);\n        akfiles.appendChild(headerFiles);\n    }\n\n    for (fileName in data.files)\n    {\n        if (!data.files.hasOwnProperty(fileName))\n        {\n            continue;\n        }\n\n        def = data.files[fileName];\n\n        uielement           = document.createElement(\"div\");\n        uielement.className = \"file-container\";\n\n        var available_filters = [\"files\"];\n\n        for (var ctFileFilter = 0; ctFileFilter < available_filters.length; ctFileFilter++)\n        {\n            var filter = available_filters[ctFileFilter];\n\n            var ui_icon       = document.createElement(\"span\");\n            ui_icon.className = \"file-icon-container akeeba-btn--mini akeeba-btn--grey\";\n\n            switch (filter)\n            {\n                case \"files\":\n                    ui_icon.insertAdjacentHTML(\n                        \"beforeend\", \"<span class=\\\"ak-toggle-button akion-close-circled\\\"></span>\");\n                    break;\n            }\n\n            // ui_icon.setAttribute(\n            //     \"title\",\n            //     \"<div class=\\\"tooltip-arrow-up-leftaligned\\\"></div><div>\" + akeeba.System.Text._(\n            //     \"COM_AKEEBA_FILEFILTERS_TYPE_\" + filter.toUpperCase()) + \"</div>\"\n            // );\n            // ui_icon.setAttribute(\"data-akeeba-tooltip-position\", \"right\");\n            //akeeba.Tooltip.simpleTooltip(ui_icon);\n            ui_icon.setAttribute(\"title\", akeeba.System.Text._(\"COM_AKEEBA_FILEFILTERS_TYPE_\" + filter.toUpperCase()));\n\n            switch (def[filter])\n            {\n                case 2:\n                    akeeba.System.removeClass(ui_icon, \"akeeba-btn--grey\");\n                    akeeba.System.addClass(ui_icon, \"akeeba-btn--red\");\n                    break;\n\n                case 1:\n                    akeeba.System.removeClass(ui_icon, \"akeeba-btn--grey\");\n                    akeeba.System.addClass(ui_icon, \"akeeba-btn--orange\");\n                // Don't break; we have to add the handler!\n\n                case 0:\n                    akeeba.System.addEventListener(ui_icon, \"click\", function (fileName, filter, ui_icon)\n                    {\n                        return function ()\n                        {\n                            var new_data = {\n                                root:   data.root,\n                                crumbs: crumbs,\n                                node:   fileName,\n                                filter: filter,\n                                verb:   \"toggle\"\n                            };\n                            akeeba.Fsfilters.toggle(new_data, ui_icon);\n                        };\n                    }(fileName, filter, ui_icon));\n            }\n\n            uielement.appendChild(ui_icon);\n        }\n\n        // Add the file label\n        var elName         = document.createElement(\"span\");\n        elName.className   = \"file-name\";\n        elName.textContent = fileName;\n\n        if (def[\"link\"])\n        {\n            elName.innerHTML = \"<span class=\\\"akion-link\\\" aria-hidden=\\\"true\\\"></span> \" + elName.innerHTML;\n        }\n\n        uielement.appendChild(elName);\n\n        var elSize         = document.createElement(\"span\");\n        elSize.className   = \"file-size\";\n        elSize.textContent = def[\"size\"];\n        uielement.appendChild(elSize);\n\n        // Render\n        akfiles.appendChild(uielement);\n    }\n};\n\n/**\n * Wipes out the filesystem filters\n * @return\n */\nakeeba.Fsfilters.nuke = function ()\n{\n    var data     = {\n        root: akeeba.Fsfilters.currentRoot,\n        verb: \"reset\"\n    };\n    // Assemble the data array and send the AJAX request\n    var new_data = {\n        akaction: JSON.stringify(data)\n    };\n    akeeba.System.doAjax(new_data, function (response)\n    {\n        akeeba.Fsfilters.render(response);\n    }, null, false, 15000);\n};\n\n/**\n * Loads the tabular view of the Filesystems Filter for a given root\n * @param root\n * @return\n */\nakeeba.Fsfilters.loadTab = function (root)\n{\n    var data     = {\n        verb: \"tab\",\n        root: root\n    };\n    // Assemble the data array and send the AJAX request\n    var new_data = {\n        akaction: JSON.stringify(data)\n    };\n    akeeba.System.doAjax(new_data, function (response)\n    {\n        akeeba.Fsfilters.renderTab(response);\n    }, null, false, 15000);\n};\n\n/**\n * Add a row in the tabular view of the Filesystems Filter\n * @param def\n * @param append_to_here\n * @return\n */\nakeeba.Fsfilters.addRow = function (def, append_to_here)\n{\n    // Turn def.type into something human readable\n    var type_text = akeeba.System.Text._(\"COM_AKEEBA_FILEFILTERS_TYPE_\" + def.type.toUpperCase());\n\n    if (type_text == null)\n    {\n        type_text = def.type;\n    }\n\n    var elRow       = document.createElement(\"tr\");\n    elRow.className = \"ak_filter_row\";\n\n    var elFilterTitle = document.createElement(\"td\");\n    elRow.appendChild(elFilterTitle);\n    elFilterTitle.className = \"ak_filter_type\";\n    elFilterTitle.insertAdjacentHTML(\"beforeend\", type_text);\n\n    var elIcons = document.createElement(\"td\");\n    elRow.appendChild(elIcons);\n    elIcons.className = \"ak_filter_item\";\n\n    var elDeleteButton = document.createElement(\"span\");\n    elIcons.appendChild(elDeleteButton);\n    elDeleteButton.className = \"ak_filter_tab_icon_container akeeba-btn--mini akeeba-btn--red deletecontainer\";\n    akeeba.System.addEventListener(elDeleteButton, \"click\", function ()\n    {\n        if (def.node == \"\")\n        {\n            // An empty filter is normally not saved to the database; it's a new record row which has to be removed...\n            var elRemove = this.parentNode.parentNode;\n            elRemove.parentNode.removeChild(elRemove);\n\n            return;\n        }\n\n        var activeRoot = document.getElementById(\"active_root\");\n\n        var new_data = {\n            root:   activeRoot.options[activeRoot.selectedIndex].value,\n            crumbs: [],\n            node:   def.node,\n            filter: def.type,\n            verb:   \"toggle\"\n        };\n\n        akeeba.Fsfilters.toggle(new_data, this, function (response, caller)\n        {\n            if (response.success)\n            {\n                var elRemove = caller.parentNode.parentNode;\n                elRemove.parentNode.removeChild(elRemove);\n            }\n        });\n    });\n    elDeleteButton.insertAdjacentHTML(\n        \"beforeend\", \"<span class=\\\"ak-toggle-button akion-trash-a deletebutton\\\"></span>\");\n\n    var elEditButton = document.createElement(\"span\");\n    elIcons.appendChild(elEditButton);\n    elEditButton.className = \"ak_filter_tab_icon_container akeeba-btn--mini akeeba-btn--teal editcontainer\";\n    akeeba.System.addEventListener(elEditButton, \"click\", function ()\n    {\n        // If I'm editing there's an input box appended to the parent element of this edit button\n        var inputBox = this.parentNode.querySelector(\"input\");\n\n        // So, if I'm already editing quit; we mustn't show multiple edit boxes!\n        if (inputBox != null)\n        {\n            return;\n        }\n\n        // Hide the text label\n        this.parentNode.querySelector(\"span.ak_filter_name\").style.display = \"none\";\n\n        var elInput = document.createElement(\"input\");\n        elInput.setAttribute(\"type\", \"text\");\n        elInput.setAttribute(\"size\", 60);\n        elInput.value = this.parentNode.querySelector(\"span.ak_filter_name\").textContent;\n        this.parentNode.appendChild(elInput);\n        akeeba.System.addEventListener(elInput, \"blur\", function ()\n        {\n            var new_value = this.value;\n            var that      = this;\n\n            if (new_value == \"\")\n            {\n                // Well, if the user meant to remove the filter, let's help him!\n                akeeba.System.triggerEvent(that.parentNode.querySelector(\"span.deletebutton\"), \"click\");\n\n                return;\n            }\n\n            // First, remove the old filter\n            var elRoot = document.getElementById(\"active_root\");\n\n            var new_data = {\n                root:     elRoot.options[elRoot.selectedIndex].value,\n                crumbs:   [],\n                old_node: def.node,\n                new_node: new_value,\n                filter:   def.type,\n                verb:     \"swap\"\n            };\n\n            var elEditContainer = that.parentNode.querySelector(\"span.editcontainer\");\n\n            akeeba.Fsfilters.toggle(\n                new_data,\n                elEditContainer,\n                function (response, caller)\n                {\n                    // Remove the editor\n                    var elFilterName           = that.parentNode.querySelector(\"span.ak_filter_name\");\n                    elFilterName.style.display = \"inline-block\";\n                    elFilterName.textContent   = new_value;\n\n                    that.parentNode.removeChild(that);\n                    def.node = new_value;\n                }\n            );\n        });\n        elInput.focus();\n    });\n    elEditButton.insertAdjacentHTML(\"beforeend\", \"<span class=\\\"ak-toggle-button akion-edit editbutton\\\"></span>\");\n\n    var elFilterName         = document.createElement(\"span\");\n    elFilterName.className   = \"ak_filter_name\";\n    elFilterName.textContent = def.node;\n    elIcons.appendChild(elFilterName);\n\n    append_to_here.appendChild(elRow);\n};\n\nakeeba.Fsfilters.addNew = function (filtertype)\n{\n    // Add a row below ourselves\n    var new_def = {\n        type: filtertype,\n        node: \"\"\n    };\n    akeeba.Fsfilters.addRow(new_def, document.getElementById(\"ak_list_table\").children[1]);\n\n    var trList = document.getElementById(\"ak_list_table\").children[1].children;\n    var lastTr = trList[trList.length - 1];\n    akeeba.System.triggerEvent(lastTr.querySelector(\"span.editcontainer\"), \"click\");\n};\n\n/**\n * Renders the tabular view of the Filesystems Filter\n * @param data\n * @return\n */\nakeeba.Fsfilters.renderTab = function (data)\n{\n    const tbody       = document.getElementById(\"ak_list_contents\");\n    tbody.innerHTML = \"\";\n\n    if (data?.list?.length)\n    {\n        data.list.forEach(def => akeeba.Fsfilters.addRow(def, tbody));\n    }\n};\n\nakeeba.Fsfilters.renderCrumbs = function (data)\n{\n    // Create a new crumbs data array\n    var crumbsdata = [];\n    // Push the \"navigate to root\" element\n    var newCrumb   = [\n        akeeba.System.Text._(\"COM_AKEEBA_FILEFILTERS_LABEL_UIROOT\"), // [0] : UI Label\n        data.root,                     // [1] : Root node\n        [],                            // [2] : Crumbs to current directory\n        \"\"                             // [3] : Node element\n    ];\n\n    crumbsdata.push(newCrumb);\n    var counter = 0;\n\n    // Iterate existing crumbs\n    if (data.crumbs.length > 0)\n    {\n        var crumbs = [];\n\n        for (counter = 0; counter < data.crumbs.length; counter++)\n        {\n            var crumb = data.crumbs[counter];\n\n            newCrumb = [\n                crumb,\n                data.root,\n                crumbs.slice(0), // Otherwise it is copied by reference\n                crumb\n            ];\n\n            crumbsdata.push(newCrumb);\n            crumbs.push(crumb); // Push this dir into the crumb list\n        }\n    }\n\n    // Render the UI crumbs elements\n    var akcrumbs       = document.getElementById(\"ak_crumbs\");\n    akcrumbs.innerHTML = \"\";\n\n    var def = null;\n\n    for (counter = 0; counter < crumbsdata.length; counter++)\n    {\n        def      = crumbsdata[counter];\n        var myLi = document.createElement(\"li\");\n\n        var elLink = document.createElement(\"a\");\n        elLink.setAttribute(\"href\", \"javascript:\");\n        def[0]             = def[0].replace(\"&lt;\", \"<\").replace(\"&gt;\", \">\");\n        elLink.textContent = def[0];\n        akeeba.System.addEventListener(elLink, \"click\", function (def)\n        {\n            return function ()\n            {\n                var elImg = document.createElement(\"img\");\n                elImg.setAttribute(\"src\", akeeba.System.getOptions(\"akeeba.Fsfilters.loadingGif\", \"\"));\n                elImg.setAttribute(\"width\", 16);\n                elImg.setAttribute(\"height\", 11);\n                elImg.setAttribute(\"border\", 0);\n                elImg.setAttribute(\"alt\", \"Loading...\");\n                elImg.style.marginTop  = \"5px\";\n                elImg.style.marginLeft = \"5px\";\n                this.appendChild(elImg);\n\n                var new_data = {\n                    root:   def[1],\n                    crumbs: def[2],\n                    node:   def[3]\n                };\n                akeeba.Fsfilters.load(new_data);\n            };\n        }(def));\n\n        myLi.appendChild(elLink);\n\n        var elSeparator         = document.createElement(\"span\");\n        elSeparator.textContent = \"/\";\n        myLi.appendChild(elSeparator);\n\n        akcrumbs.appendChild(myLi);\n    }\n\n    return crumbs;\n};\n\nakeeba.Fsfilters.renderParentFolderElement = function ()\n{\n    var akfolders = document.getElementById(\"folders\");\n\n    // The parent directory element\n    var uielement       = document.createElement(\"div\");\n    uielement.className = \"folder-container folder-header\";\n    uielement.insertAdjacentHTML(\"beforeend\", \"<span class=\\\"folder-padding\\\"></span>\");\n    uielement.insertAdjacentHTML(\"beforeend\", \"<span class=\\\"folder-padding\\\"></span>\");\n    uielement.insertAdjacentHTML(\"beforeend\", \"<span class=\\\"folder-padding\\\"></span>\");\n\n    uielement.insertAdjacentHTML(\"beforeend\", \"<span class=\\\"akion-arrow-up-a\\\"></span>\");\n\n    var elFolderUp       = document.createElement(\"span\");\n    elFolderUp.className = \"folder-name folder-up\";\n\n    var elCrumbs           = document.getElementById(\"ak_crumbs\").children;\n    var elParentFolder     = elCrumbs[elCrumbs.length - 2].querySelector(\"a\");\n    elFolderUp.textContent = \" (\" + elParentFolder.textContent + \")\";\n\n    akeeba.System.addEventListener(elFolderUp, \"click\", function (elParentFolder)\n    {\n        return function ()\n        {\n            akeeba.System.triggerEvent(elParentFolder, \"click\");\n        }\n    }(elParentFolder));\n\n\n    uielement.appendChild(elFolderUp);\n    akfolders.appendChild(uielement);\n};\n\nakeeba.System.documentReady(function ()\n{\n    // This file may be included in the other views. In this case do NOT run our GUI initialization.\n    var guiData = akeeba.System.getOptions(\"akeeba.FileFilters.guiData\", null);\n\n    if (guiData === null)\n    {\n        return;\n    }\n\n    if (akeeba.System.getOptions(\"akeeba.FileFilters.viewType\") === \"list\")\n    {\n        akeeba.Fsfilters.render(guiData);\n        akeeba.System.addEventListener(\"active_root\", \"change\", akeeba.Fsfilters.activeRootChanged);\n    }\n    else\n    {\n        akeeba.Fsfilters.renderTab(guiData);\n        akeeba.System.addEventListener(\"active_root\", \"change\", akeeba.Fsfilters.activeTabRootChanged);\n    }\n\n    akeeba.System.addEventListener(\"comAkeebaFileFiltersNuke\", \"click\", function ()\n    {\n        akeeba.Fsfilters.nuke();\n\n        return false;\n    });\n\n    akeeba.System.addEventListener(\"comAkeebaFileFiltersAddDirectories\", \"click\", function ()\n    {\n        akeeba.Fsfilters.addNew(\"directories\");\n\n        return false;\n    });\n\n    akeeba.System.addEventListener(\"comAkeebaFileFiltersAddSkipfiles\", \"click\", function ()\n    {\n        akeeba.Fsfilters.addNew(\"skipfiles\");\n\n        return false;\n    });\n\n    akeeba.System.addEventListener(\"comAkeebaFileFiltersAddSkipdirs\", \"click\", function ()\n    {\n        akeeba.Fsfilters.addNew(\"skipdirs\");\n\n        return false;\n    });\n\n    akeeba.System.addEventListener(\"comAkeebaFileFiltersAddFiles\", \"click\", function ()\n    {\n        akeeba.Fsfilters.addNew(\"files\");\n\n        return false;\n    });\n});"],"mappings":"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"}