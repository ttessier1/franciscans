{"version":3,"file":"manage.min.js","names":["akeeba","Manage","remoteManagementModal","uploadModal","downloadModal","infoModal","onRemoteManagementClick","managementUrl","reloadUrl","Modal","open","iframe","width","height","closeCallback","window","location","onUploadClick","uploadURL","onDownloadClick","inheritFrom","inherit","onShowInfoClick","confirmDownload","e","answer","confirm","System","Text","_","clickedElement","_typeof","target","srcElement","id","data","get","part","newURL","getOptions","documentReady","Tooltip","enableFor","document","querySelectorAll","iterateNodes","el","addEventListener","preventDefault","uploadUrl","dlTarget","infoTarget","setTimeout","howToRestoreModal","close","getElementById","style","display","forms","adminForm","submit"],"sources":["manage.js"],"sourcesContent":["/**\n * @package   solo\n * @copyright Copyright (c)2014-2024 Nicholas K. Dionysopoulos / Akeeba Ltd\n * @license   GNU General Public License version 3, or later\n */\n\nif (typeof (akeeba) == \"undefined\")\n{\n    var akeeba = {};\n}\n\nif (typeof akeeba.Manage == \"undefined\")\n{\n    akeeba.Manage = {\n        remoteManagementModal: null,\n        uploadModal:           null,\n        downloadModal:         null,\n        infoModal:             null\n    }\n}\n\nakeeba.Manage.onRemoteManagementClick = function (managementUrl, reloadUrl)\n{\n    akeeba.Modal.remoteManagementModal = akeeba.Modal.open({\n        iframe:        managementUrl,\n        width:         \"500\",\n        height:        \"450\",\n        closeCallback: function ()\n                       {\n                           akeeba.Modal.remoteManagementModal = null;\n                           window.location                    = reloadUrl;\n                       }\n    });\n};\n\nakeeba.Manage.onUploadClick = function (uploadURL, reloadUrl)\n{\n    akeeba.Modal.uploadModal = akeeba.Modal.open({\n        iframe:        uploadURL,\n        width:         \"450\",\n        height:        \"280\",\n        closeCallback: function ()\n                       {\n                           akeeba.Modal.remoteManagementModal = null;\n                           window.location                    = reloadUrl;\n                       }\n    });\n};\n\nakeeba.Manage.onDownloadClick = function (inheritFrom)\n{\n    akeeba.Modal.downloadModal = akeeba.Modal.open({\n        inherit: inheritFrom,\n        width:   \"450\",\n        height:  \"280\"\n    });\n};\n\nakeeba.Manage.onShowInfoClick = function (inheritFrom)\n{\n    akeeba.Modal.infoModal = akeeba.Modal.open({\n        inherit: inheritFrom,\n        width:   \"450\",\n        height:  \"280\"\n    });\n};\n\nakeeba.Manage.confirmDownload = function (e)\n{\n    var answer = confirm(akeeba.System.Text._(\"COM_AKEEBA_BUADMIN_LOG_DOWNLOAD_CONFIRM\"));\n\n    if (!answer)\n    {\n        return;\n    }\n\n    var clickedElement = null;\n\n    if (typeof e.target === \"object\")\n    {\n        clickedElement = e.target;\n    }\n    else if (typeof e.srcElement === \"object\")\n    {\n        clickedElement = e.srcElement;\n    }\n\n    if (clickedElement === null)\n    {\n        return;\n    }\n\n    var id   = akeeba.System.data.get(clickedElement, \"id\", \"id1\");\n    var part = akeeba.System.data.get(clickedElement, \"part\", \"\");\n\n    if (id < 0)\n    {\n        return;\n    }\n\n    var newURL = akeeba.System.getOptions(\"akeeba.Manage.downloadURL\") +\n        \"&id=\" + id;\n\n    if ((typeof part === \"undefined\") || (part !== \"\"))\n    {\n        newURL += \"&part=\" + part\n    }\n\n    window.location = newURL;\n};\n\nakeeba.System.documentReady(function ()\n{\n    // Enable tooltips\n    akeeba.Tooltip.enableFor(document.querySelectorAll(\".akeebaCommentPopover\"), false);\n\n    // Add click event handlers to download buttons\n    akeeba.System.iterateNodes(\".comAkeebaManageDownloadButton\", function (el)\n    {\n        akeeba.System.addEventListener(el, \"click\", akeeba.Manage.confirmDownload);\n    });\n\n    akeeba.System.iterateNodes(\".akeeba_remote_management_link\", function (el)\n    {\n        akeeba.System.addEventListener(el, \"click\", function (e)\n        {\n            e.preventDefault();\n\n            var managementUrl = akeeba.System.data.get(el, \"management\", \"\");\n            var reloadUrl     = akeeba.System.data.get(el, \"reload\", \"\");\n\n            if ((managementUrl === \"\") || (reloadUrl === \"\"))\n            {\n                return false;\n            }\n\n            akeeba.Manage.onRemoteManagementClick(managementUrl, reloadUrl);\n\n            return false;\n        });\n    });\n\n    akeeba.System.iterateNodes(\".akeeba_upload\", function (el)\n    {\n        akeeba.System.addEventListener(el, \"click\", function (e)\n        {\n            e.preventDefault();\n\n            var uploadUrl = akeeba.System.data.get(el, \"upload\", \"\");\n            var reloadUrl = akeeba.System.data.get(el, \"reload\", \"\");\n\n            if ((uploadUrl === \"\") || (reloadUrl === \"\"))\n            {\n                return false;\n            }\n\n            akeeba.Manage.onUploadClick(uploadUrl, reloadUrl);\n\n            return false;\n        });\n    });\n\n    akeeba.System.iterateNodes(\".akeeba_download_button\", function (el)\n    {\n        akeeba.System.addEventListener(el, \"click\", function (e)\n        {\n            e.preventDefault();\n\n            var dlTarget = akeeba.System.data.get(el, \"dltarget\", \"\");\n\n            if (dlTarget === \"\")\n            {\n                return false;\n            }\n\n            akeeba.Manage.onDownloadClick(dlTarget);\n\n            return false;\n        });\n    });\n\n    akeeba.System.iterateNodes(\".akeeba_showinfo_link\", function (el)\n    {\n        akeeba.System.addEventListener(el, \"click\", function (e)\n        {\n            e.preventDefault();\n\n            var infoTarget = akeeba.System.data.get(el, \"infotarget\", \"\");\n\n            if (infoTarget === \"\")\n            {\n                return false;\n            }\n\n            akeeba.Manage.onShowInfoClick(infoTarget);\n\n            return false;\n        });\n    });\n\n    // Show the how to restore modal if necessary\n    if (akeeba.System.getOptions(\"akeeba.Manage.ShowHowToRestoreModal\", 0))\n    {\n        setTimeout(function ()\n        {\n            akeeba.System.howToRestoreModal = akeeba.Modal.open({\n                inherit: \"#akeeba-config-howtorestore-bubble\",\n                width:   \"80%\"\n            });\n        }, 500);\n\n        akeeba.System.addEventListener(\"comAkeebaManageCloseHowToRestoreModal\", \"click\", function ()\n        {\n            akeeba.System.howToRestoreModal.close();\n\n            document.getElementById(\"akeeba-config-howtorestore-bubble\").style.display = \"none\";\n        })\n    }\n\n    // Profile filter event handler\n    akeeba.System.addEventListener(\"comAkeebaManageProfileSelector\", \"change\", function ()\n    {\n        document.forms.adminForm.submit();\n    });\n});\n"],"mappings":"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"}