/*
 Copyright (c)2014-2020 Nicholas K. Dionysopoulos / Akeeba Ltd
 @license   GNU General Public License version 3, or later
*/
if("undefined"===typeof akeeba)var akeeba={};"undefined"===typeof akeeba.System&&(akeeba.System={documentReady:function(a,b){},params:{AjaxURL:"",errorCallback:null,password:"",errorDialogId:"errorDialog",errorDialogMessageId:"errorDialogPre"},notification:{},modalDialog:null});
akeeba.System.array_merge=function(){for(var a=Array.prototype.slice.call(arguments),b={},d,c=0,e=0,c=!0,e=0;e<a.length;e++)if(!(a[e]instanceof Array)){c=!1;break}if(c){c=[];for(e=0;e<a.length;e++)c=c.concat(a[e]);return c}for(var f=0,f=e=0;e<a.length;e++)if(a[e]instanceof Array)for(c=0;c<a[e].length;c++)b[f++]=a[e][c];else for(d in a[e])a[e].hasOwnProperty(d)&&(parseInt(d,10)+""===d?b[f++]=a[e][d]:b[d]=a[e][d]);return b};
akeeba.System.array_diff=function(a){var b={},d=arguments.length,c="",e=1,f="",g={};a:for(c in a)for(e=1;e<d;e++){g=arguments[e];for(f in g)if(g[f]===a[c])continue a;b[c]=a[c]}return b};akeeba.System.getOptions=function(a,b){"undefined"==typeof b&&(b=null);akeeba.System.optionsStorage||akeeba.System.loadOptions();return void 0!==akeeba.System.optionsStorage[a]?akeeba.System.optionsStorage[a]:b};
akeeba.System.loadOptions=function(a){if(!a){for(var b=document.querySelectorAll(".akeeba-script-options.new"),d,c,e=0,f=0,g=b.length;f<g;f++){c=b[f];d=c.text||c.textContent;if(d=JSON.parse(d))akeeba.System.loadOptions(d),e++;akeeba.System.removeClass(c,"new");akeeba.System.addClass(c,"loaded")}if(e)return}if(akeeba.System.optionsStorage){if(a)for(var h in a)a.hasOwnProperty(h)&&(akeeba.System.optionsStorage[h]=a[h])}else akeeba.System.optionsStorage=a||{}};
akeeba.System.defaultErrorHandler=function(a){null==a||"undefined"==typeof a||alert("An error has occurred\n"+a)};
akeeba.System.modalErrorHandler=function(a){var b=akeeba.System.getOptions("akeeba.System.params.errorDialogId",akeeba.System.params.errorDialogId),d=akeeba.System.getOptions("akeeba.System.params.errorDialogMessageId",akeeba.System.params.errorDialogMessageId),b=document.getElementById(b),c="error";null!=b&&(document.getElementById(d).innerHTML=a,c=b.innerHTML);akeeba.Modal.open({content:c,width:"80%"})};
akeeba.System.doAjax=function(a,b,d,c,e){null==c&&(c=!0);var f=(new Date).getTime()/1E3,g=parseInt(f,10);a._cacheBustingJunk=Math.round(1E3*(f-g))/1E3;null==e&&(e=6E5);f=akeeba.System.getOptions("akeeba.System.params.AjaxURL",akeeba.System.params.AjaxURL);a.hasOwnProperty("ajaxURL")&&(f=a.ajaxURL,delete a.url);a={type:"POST",url:f,cache:!1,data:a,timeout:e,success:function(a){var c="",e=a.indexOf("###");if(-1==e)a=akeeba.System.sanitizeErrorMessage(a),a="Invalid AJAX data: "+a,null==d?null!=akeeba.System.params.errorCallback&&
akeeba.System.params.errorCallback(a):d(a);else{0!=e?(a.substr(0,e),c=a.substr(e)):c=a;c=c.substr(3);e=c.lastIndexOf("###");c=c.substr(0,e);try{var f=JSON.parse(c)}catch(g){c=akeeba.System.sanitizeErrorMessage(c);a=g.message+"\n<br/>\n<pre>\n"+c+"\n</pre>";null==d?null!=akeeba.System.params.errorCallback&&akeeba.System.params.errorCallback(a):d(a);return}b(f)}},error:function(a,b,c){c=a.responseText?a.responseText:"";var e="<strong>AJAX Loading Error</strong><br/>HTTP Status: "+a.status+" ("+a.statusText+
")<br/>",e=e+"Internal status: "+b+"<br/>XHR ReadyState: "+a.readyState+"<br/>",e=e+"Raw server response:<br/>"+akeeba.System.sanitizeErrorMessage(c);null==d?null!=akeeba.System.params.errorCallback&&akeeba.System.params.errorCallback(e):d(e)}};c?akeeba.Ajax.enqueue(a):akeeba.Ajax.ajax(a)};akeeba.System.sanitizeErrorMessage=function(a){-1<a.indexOf("<script")&&(a="(HTML containing script tags)");return a};
akeeba.System.notification.askPermission=function(){akeeba.System.getOptions("akeeba.System.notification.hasDesktopNotification",!1)&&void 0!==window.Notification&&"default"===window.Notification.permission&&window.Notification.requestPermission()};
akeeba.System.notification.notify=function(a,b,d){akeeba.System.getOptions("akeeba.System.notification.hasDesktopNotification",!1)&&(void 0!==window.Notification&&"granted"===window.Notification.permission)&&(void 0===d&&(d=5E3),void 0===b&&(body=""),a=new window.Notification(a,{body:b,icon:akeeba.System.getOptions("akeeba.System.notification.iconURL")}),0<d&&setTimeout(function(a){return function(){a.close()}}(a),d))};
akeeba.System.data=function(){var a=0,b={};return{set:function(d,c,e){if(d.dataset)d.dataset[c]=e,null==e&&delete d.dataset[c];else{var f;void 0===d.myCustomDataTag&&(f=a++,d.myCustomDataTag=f);"undefined"==typeof b[f]&&(b[f]={});b[f][c]=e;var g="data-"+c.split(/(?=[A-Z])/).join("-").toLowerCase();d.setAttribute&&d.setAttribute(g,e);if(null==e)try{delete b[f][c],d.removeAttribute(g)}catch(h){b[f][c]=null}}},get:function(a,c,e){if(a.dataset)return"undefined"==typeof a.dataset[c]&&(a.dataset[c]=e),
a.dataset[c];"undefined"==typeof e&&(e=null);"undefined"==typeof b[a.myCustomDataTag]&&(b[a.myCustomDataTag]={});var f="data-"+c.split(/(?=[A-Z])/).join("-").toLowerCase();"undefined"!==typeof a[f]&&(b[a.myCustomDataTag][c]=a[f]);"undefined"==typeof b[a.myCustomDataTag][c]&&this.set(a,c,e);return b[a.myCustomDataTag][c]}}}();
akeeba.System.addEventListener=function(a,b,d){function c(a){var b=d.apply(this,arguments);!1===b&&(a.stopPropagation()&&a.stopPropagation(),a.preventDefault?a.preventDefault():a.returnValue=!1);return b}function e(){var b=d.call(a,window.event);!1===b&&(window.event.returnValue=!1,window.event.cancelBubble=!0);return b}"string"===typeof a&&(a=document.getElementById(a));null!=a&&"object"==typeof a&&a instanceof Element&&(a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,e))};
akeeba.System.removeEventListener=function(a,b,d){"string"===typeof a&&(a=document.getElementById(a));null!=a&&"object"==typeof a&&a instanceof Element&&(a.removeEventListener?a.removeEventListener(b,d):a.detachEvent("on"+b,d))};
akeeba.System.triggerEvent=function(a,b){if("undefined"!=typeof a&&null!==a&&("string"===typeof a&&(a=document.getElementById(a)),null!==a&&"object"==typeof a&&a instanceof Element))if("function"===typeof window.jQuery)window.jQuery(a).trigger(b);else if(document.fireEvent&&"undefined"==typeof window.Event)a.fireEvent("on"+b);else{var d=null,d=document.createEvent("Event");d.initEvent(b,!0,!0);a.dispatchEvent(d)}};
(function(a,b){function d(){if(!f){f=!0;for(var a=0;a<e.length;a++)e[a].fn.call(window,e[a].ctx);e=[]}}function c(){"complete"===document.readyState&&d()}b=b||akeeba.System;var e=[],f=!1,g=!1;b[a||"documentReady"]=function(a,b){f?setTimeout(function(){a(b)},1):(e.push({fn:a,ctx:b}),"complete"===document.readyState||!document.attachEvent&&"interactive"===document.readyState?setTimeout(d,1):g||(g=!0,document.addEventListener?(document.addEventListener("DOMContentLoaded",d,!1),window.addEventListener("load",
d,!1)):(document.attachEvent("onreadystatechange",c),window.attachEvent("onload",d))))}})("documentReady",akeeba.System);akeeba.System.addClass=function(a,b){if(a&&a.className){var d=a.className.split(" ");"string"==typeof b&&(b=b.split(" "));d=akeeba.System.array_merge(d,b);a.className="";for(var c in d)d.hasOwnProperty(c)&&(a.className+=d[c]+" ");a.className.trim&&(a.className=a.className.trim())}};
akeeba.System.removeClass=function(a,b){if(a&&a.className){var d=a.className.split(" ");"string"==typeof b&&(b=b.split(" "));d=akeeba.System.array_diff(d,b);a.className="";for(property in d)d.hasOwnProperty(property)&&(a.className+=d[property]+" ");a.className.trim&&(a.className=a.className.trim())}};akeeba.System.hasClass=function(a,b){if(a&&a.className){var d=a.className.split(" ");for(i=0;i<d.length;i++)if(d[i]==b)return!0;return!1}};
akeeba.System.toggleClass=function(a,b){akeeba.System.hasClass(a,b)?akeeba.System.removeClass(a,b):akeeba.System.addClass(a,b)};akeeba.System.checkAll=function(a,b){b||(b="cb");if(a.form){for(var d=0,c=0,e=a.form.elements.length;c<e;c++){var f=a.form.elements[c];if(f.type==a.type&&(b&&0==f.id.indexOf(b)||!b))f.checked=a.checked,d+=!0==f.checked?1:0}a.form.boxchecked&&(a.form.boxchecked.value=d);return!0}return!1};
akeeba.System.isChecked=function(a,b){"undefined"===typeof b&&(b=document.getElementById("adminForm"));!0==a?b.boxchecked.value++:b.boxchecked.value--};akeeba.System.tableOrdering=function(a,b,d,c){"undefined"===typeof c&&(c=document.getElementById("adminForm"));c.filter_order.value=a;c.filter_order_Dir.value=b;akeeba.System.submitForm(d,c)};
akeeba.System.submitForm=function(a,b,d){b||(b=document.getElementById("adminForm"));a&&(b.task.value=a);b.noValidate=!d;d?b.hasAttribute("novalidate")&&b.removeAttribute("novalidate"):b.setAttribute("novalidate","");a=document.createElement("input");a.style.display="none";a.type="submit";b.appendChild(a);a.click();b.removeChild(a)};
akeeba.System.orderTable=function(){var a=document.getElementById("sortTable"),b=document.getElementById("directionTable"),a=a.options[a.selectedIndex].value,d="asc";a===akeeba.System.getOptions("akeeba.System.tableOrder","asc")&&(d=b.options[b.selectedIndex].value);akeeba.System.tableOrdering(a,d)};
akeeba.System.iterateNodes=function(a,b,d){if("function"==typeof b&&("string"===typeof a&&(a=document.querySelectorAll(a)),0!==a.length)){var c,e;for(c=0;c<a.length;c++)e=a[c],"undefined"!==typeof d?b(e,d):b(e)}};
akeeba.System.assignDefaultErrorHandler=function(){akeeba.System.params.errorCallback=akeeba.System.modalErrorHandler;if("undefined"===typeof akeeba.Modal)akeeba.System.params.errorCallback=akeeba.System.defaultErrorHandler;else{var a=akeeba.System.getOptions("akeeba.System.params.errorDialogId",akeeba.System.params.errorDialogId),b=akeeba.System.getOptions("akeeba.System.params.errorDialogMessageId",akeeba.System.params.errorDialogMessageId);if(""===a||null===a||""===b||null===b)akeeba.System.params.errorCallback=
akeeba.System.defaultErrorHandler;else if(a=document.getElementById(a),b=document.getElementById(b),null===a||null===b)akeeba.System.params.errorCallback=akeeba.System.defaultErrorHandler}};
akeeba.System.Text={strings:{},_:function(a,b){var d=akeeba.System.getOptions("akeeba.text");d&&(akeeba.System.Text.load(d),akeeba.System.loadOptions({"akeeba.text":null}));b=void 0===b?"":b;a=a.toUpperCase();return void 0!==akeeba.System.Text.strings[a]?akeeba.System.Text.strings[a]:b},load:function(a){for(var b in a)a.hasOwnProperty(b)&&(this.strings[b.toUpperCase()]=a[b]);return this}};
akeeba.System.doEncryptedAjax=function(a,b,d,c,e){var f=akeeba.System.getOptions("akeeba.System.params.AjaxURL",akeeba.System.params.AjaxURL);a.hasOwnProperty("ajaxURL")&&(f=a.ajaxURL,delete a.url);a={json:JSON.stringify(a),ajaxURL:f};f=akeeba.System.getOptions("akeeba.System.params.password",akeeba.System.params.password);0<f.length&&(a.password=f);return akeeba.System.doAjax(a,b,d,c,e)};
akeeba.System.modal=function(a){try{"undefined"!==typeof a.rel&&(rel=a.rel,a=JSON.parse(rel))}catch(b){}var d=document.createElement("div");g.setAttribute("tabindex","-1");g.setAttribute("role","dialog");g.setAttribute("aria-hidden","true");g=document.createElement("div");g.className="modal-dialog";d.appendChild(g);var c=document.createElement("div");c.className="modal-content";g.appendChild(c);if("undefined"!==typeof a.title){g=document.createElement("div");g.className="modal-header";c.appendChild(g);
var e=document.createElement("button");e.className="close";e.innerHTML="&times;";g.appendChild(e);var f=document.createElement("h4");f.className="modal-title";f.innerHTML=a.title;g.appendChild(f);"undefined"!==typeof a.CancelHandler&&akeeba.System.addEventListener(e,"click",function(b){var c=a.CancelHandler;akeeba.System.modalDialog.close();c(d);b.preventDefault()})}var g=document.createElement("div");g.className="modal-body";c.appendChild(g);if("undefined"===typeof a.href)g.innerHTML=a.body;else if("#"==
a.href.substr(0,1))for(e=window.document.querySelector(a.href);0<e.childNodes.length;)g.appendChild(e.childNodes[0]);else e=document.createElement("iframe"),e.src=a.href,e.width="100%",e.height=400,e.frameborder=0,e.allowtransparency=!0,g.appendChild(e),"undefined"!==typeof a.iFrameHeight&&(e.height=a.iFrameHeight),"undefined"!==typeof a.iFrameWidth&&(e.width=a.iFrameWidth);g=!0;"undefined"!==typeof a.showButtons&&(g=a.showButtons);if(g){g=document.createElement("div");g.className="modal-footer";
c.appendChild(g);c=akeeba.System.Text._("UI-MODAL-OK");e=akeeba.System.Text._("UI-MODAL-CANCEL");"undefined"!==typeof a.OkLabel&&(c=a.OkLabel);"undefined"!==typeof a.CancelLabel&&(e=a.CancelLabel);f=document.createElement("button");f.className="btn btn-default";f.setAttribute("type","button");f.innerHTML=e;g.appendChild(e);var h=document.createElement("button");h.className="btn btn-primary";h.setAttribute("type","button");h.innerHTML=c;g.appendChild(h);"undefined"!==typeof a.CancelHandler&&akeeba.System.addEventListener(f,
"click",function(b){var c=a.CancelHandler;akeeba.System.modalDialog.close();c(d);b.preventDefault()});"undefined"!==typeof a.OkHandler?akeeba.System.addEventListener(h,"click",function(b){var c=a.OkHandler;akeeba.System.modalDialog.close();c(d);b.preventDefault()}):akeeba.System.addEventListener(h,"click",function(a){akeeba.System.modalDialog.close();a.preventDefault()});""==c.trim()&&(h.style.display="none");""==e.trim()&&(f.style.display="none")}akeeba.System.modalDialog=akeeba.Modal.open({inherit:d,
width:"450",height:"280"})};
akeeba.System.documentReady(function(){akeeba.System.assignDefaultErrorHandler();akeeba.System.iterateNodes(".akeebaGridViewCheckAll",function(a){akeeba.System.addEventListener(a,"click",function(){Joomla.checkAll(this)})});akeeba.System.iterateNodes(".akeebaGridViewOrderTable",function(a){akeeba.System.addEventListener(a,"change",akeeba.System.orderTable)});akeeba.System.iterateNodes(".akeebaGridViewAutoSubmitOnChange",function(a){akeeba.System.addEventListener(a,"change",function(){akeeba.System.submitForm()})})}); //#sourceMappingURL=system.min.map
