/*
 Copyright (c)2014-2020 Nicholas K. Dionysopoulos / Akeeba Ltd
 @license   GNU General Public License version 3, or later
*/
if("undefined"===typeof akeeba)var akeeba={};
"undefined"===typeof akeeba.Configuration&&(akeeba.Configuration={},akeeba.Configuration.GUI={},akeeba.Configuration.engines={},akeeba.Configuration.installers={},akeeba.Configuration.URLs={},akeeba.Configuration.FtpBrowser={params:{}},akeeba.Configuration.SftpBrowser={params:{}},akeeba.Configuration.FtpTest={},akeeba.Configuration.SftpTest={},akeeba.Configuration.FtpModal=null,akeeba.Configuration.passwordFields={},akeeba.Configuration.fsBrowser={params:{dialogId:"folderBrowserDialog",dialogBodyId:"folderBrowserDialogBody"},
modalObject:null});akeeba.Configuration.parseConfigData=function(a,b){akeeba.Configuration.engines=a.engines;akeeba.Configuration.installers=a.installers;akeeba.Configuration.parseGuiData(a.gui);"function"==typeof b&&b()};
akeeba.Configuration.restoreDefaultPasswords=function(){for(var a in akeeba.Configuration.passwordFields)if(akeeba.Configuration.passwordFields.hasOwnProperty(a)){var b=akeeba.Configuration.passwordFields[a];if(myElement=document.getElementById(a))myElement.value="WORKAROUND FOR NAUGHTY BROWSERS",myElement.value=b}};
akeeba.Configuration.onBrowser=function(a,b){akeeba.Configuration.onBrowserCallback=function(a){b.value=a;"object"===typeof akeeba.Configuration.fsBrowser.modalObject&&akeeba.Configuration.fsBrowser.modalObject.close&&akeeba.Configuration.fsBrowser.modalObject.close()};a=akeeba.Configuration.URLs.browser+encodeURIComponent(a);var d=document.getElementById(akeeba.Configuration.fsBrowser.params.dialogBodyId);d.innerHTML="";var e=document.createElement("iframe");e.setAttribute("src",a);e.setAttribute("width",
"100%");e.setAttribute("height",400);e.setAttribute("frameborder",0);e.setAttribute("allowtransparency","true");d.appendChild(e);akeeba.Configuration.fsBrowser.modalObject=akeeba.Modal.open({inherit:"#"+akeeba.Configuration.fsBrowser.params.dialogId,width:"80%"})};
akeeba.Configuration.FtpBrowser.callback=function(a){var b="/".replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^:])/g,"$1");a="/"+(a+"").replace(new RegExp("^["+b+"]+","g"),"");document.getElementById("var["+akeeba.Configuration.FtpBrowser.params.key+"]").value=a};
akeeba.Configuration.FtpBrowser.initialise=function(a,b){akeeba.Configuration.FtpBrowser.params.host=document.getElementById("var["+b+".host]").value;akeeba.Configuration.FtpBrowser.params.port=document.getElementById("var["+b+".port]").value;akeeba.Configuration.FtpBrowser.params.username=document.getElementById("var["+b+".user]").value;akeeba.Configuration.FtpBrowser.params.password=document.getElementById("var["+b+".pass]").value;akeeba.Configuration.FtpBrowser.params.passive=document.getElementById("var["+
b+".passive_mode]").checked;akeeba.Configuration.FtpBrowser.params.ssl=document.getElementById("var["+b+".ftps]").checked;akeeba.Configuration.FtpBrowser.params.directory=document.getElementById("var["+b+".initial_directory]").value;akeeba.Configuration.FtpBrowser.params.key=a;akeeba.Configuration.FtpBrowser.open()};
akeeba.Configuration.FtpBrowser.open=function(){var a=document.getElementById("ftpdialog");akeeba.System.addEventListener(document.getElementById("ftpdialogOkButton"),"click",function(a){akeeba.Configuration.FtpBrowser.callback(akeeba.Configuration.FtpBrowser.params.directory);"object"===typeof akeeba.Configuration.FtpModal&&akeeba.Configuration.FtpModal.close&&akeeba.Configuration.FtpModal.close()});akeeba.System.addEventListener(document.getElementById("ftpdialogCancelButton"),"click",function(a){"object"===
typeof akeeba.Configuration.FtpModal&&akeeba.Configuration.FtpModal.close&&akeeba.Configuration.FtpModal.close()});akeeba.Configuration.FtpModal=akeeba.System.Modal.open({inherit:a,width:"80%"});document.getElementById("ftpBrowserErrorContainer").style.display="none";document.getElementById("ftpBrowserFolderList").innerHTML="";document.getElementById("ftpBrowserCrumbs").innerHTML="";empty(akeeba.Configuration.FtpBrowser.params.directory)&&(akeeba.Configuration.FtpBrowser.params.directory="");a={host:akeeba.Configuration.FtpBrowser.params.host,
username:akeeba.Configuration.FtpBrowser.params.username,password:akeeba.Configuration.FtpBrowser.params.password,passive:akeeba.Configuration.FtpBrowser.params.passive?1:0,ssl:akeeba.Configuration.FtpBrowser.params.ssl?1:0,directory:akeeba.Configuration.FtpBrowser.params.directory};a.ajaxURL=akeeba.Configuration.URLs.ftpBrowser;akeeba.System.doAjax(a,function(a){var b=document.getElementById("ak_crumbs2"),e=document.getElementById("ftpBrowserFolderList");e.style.display="none";b.style.display="none";
if(0!=a.error)document.getElementById("ftpBrowserError").innerHTML=a.error,document.getElementById("ftpBrowserErrorContainer").style.display="block";else{document.getElementById("ftpBrowserErrorContainer").style.display="none";if(!empty(a.breadcrumbs)){b.style.display="block";b.innerHTML="";var c="/";akeeba.Configuration.FtpBrowser.addCrumb(akeeba.System.Text._("COM_AKEEBA_FILEFILTERS_LABEL_UIROOT"),"/",b);for(i=0;i<a.breadcrumbs.length;i++){var f=a.breadcrumbs[i];c+="/"+f;akeeba.Configuration.FtpBrowser.addCrumb(f,
c,b)}}if(!empty(a.list))for(e.style.display="block",akeeba.Configuration.FtpBrowser.params.directory||(akeeba.Configuration.FtpBrowser.params.directory=a.directory),i=0;i<a.list.length;i++)b=a.list[i],akeeba.Configuration.FtpBrowser.createLink(a.directory+"/"+b,b,e)}},function(a){document.getElementById("ftpBrowserError").innerHTML=a;document.getElementById("ftpBrowserErrorContainer").style.display="block";document.getElementById("ftpBrowserFolderList").style.display="none";document.getElementById("ftpBrowserCrumbs").style.display=
"none"},!1)};akeeba.Configuration.FtpBrowser.createLink=function(a,b,d,e){"undefined"===typeof e&&(e=akeeba.Configuration.FtpBrowser);var c=document.createElement("tr"),f=document.createElement("td");c.appendChild(f);var g=document.createElement("a");g.textContent=b;akeeba.System.addEventListener(g,"click",function(){e.params.directory=a;e.open()});f.appendChild(g);d.appendChild(c)};
akeeba.Configuration.FtpBrowser.addCrumb=function(a,b,d,e){"undefined"===typeof e&&(e=akeeba.Configuration.FtpBrowser);var c=document.createElement("li"),f=document.createElement("a");f.textContent=a;akeeba.System.addEventListener(f,"click",function(a){e.params.directory=b;e.open();a.preventDefault?a.preventDefault():a.returnValue=!1});c.appendChild(f);d.appendChild(c)};
akeeba.Configuration.SftpBrowser.initialise=function(a,b){akeeba.Configuration.SftpBrowser.params.host=document.getElementById("var["+b+".host]").value;akeeba.Configuration.SftpBrowser.params.port=document.getElementById("var["+b+".port]").value;akeeba.Configuration.SftpBrowser.params.username=document.getElementById("var["+b+".user]").value;akeeba.Configuration.SftpBrowser.params.password=document.getElementById("var["+b+".pass]").value;akeeba.Configuration.SftpBrowser.params.directory=document.getElementById("var["+
b+".initial_directory]").value;akeeba.Configuration.SftpBrowser.params.privKey=document.getElementById("var["+b+".privkey]").value;akeeba.Configuration.SftpBrowser.params.pubKey=document.getElementById("var["+b+".pubkey]").value;akeeba.Configuration.SftpBrowser.params.key=a;akeeba.Configuration.SftpBrowser.open()};
akeeba.Configuration.SftpBrowser.open=function(){var a=document.getElementById("sftpdialog");a.style.display="block";akeeba.System.addEventListener(document.getElementById("sftpdialogOkButton"),"click",function(a){akeeba.Configuration.SftpBrowser.callback(akeeba.Configuration.SftpBrowser.params.directory);"object"===typeof akeeba.Configuration.FtpModal&&akeeba.Configuration.FtpModal.close&&akeeba.Configuration.FtpModal.close()});akeeba.System.addEventListener(document.getElementById("sftpdialogCancelButton"),
"click",function(a){"object"===typeof akeeba.Configuration.FtpModal&&akeeba.Configuration.FtpModal.close&&akeeba.Configuration.FtpModal.close()});akeeba.Configuration.FtpModal=akeeba.System.Modal.open({inherit:a,width:"80%"});document.getElementById("sftpBrowserErrorContainer").style.display="none";document.getElementById("sftpBrowserFolderList").innerHTML="";document.getElementById("sftpBrowserCrumbs").innerHTML="";empty(akeeba.Configuration.SftpBrowser.params.directory)&&(akeeba.Configuration.SftpBrowser.params.directory=
"");a={host:akeeba.Configuration.SftpBrowser.params.host,port:akeeba.Configuration.SftpBrowser.params.port,username:akeeba.Configuration.SftpBrowser.params.username,password:akeeba.Configuration.SftpBrowser.params.password,directory:akeeba.Configuration.SftpBrowser.params.directory,privkey:akeeba.Configuration.SftpBrowser.params.privKey,pubkey:akeeba.Configuration.SftpBrowser.params.pubKey};a.ajaxURL=akeeba.Configuration.URLs.sftpBrowser;akeeba.System.doAjax(a,function(a){var b=document.getElementById("sftpBrowserFolderList"),
e=document.getElementById("ak_scrumbs");b.style.display="none";e.style.display="none";if(0!=a.error)document.getElementById("sftpBrowserError").innerHTML=a.error,document.getElementById("sftpBrowserErrorContainer").style.display="block";else{document.getElementById("ftpBrowserErrorContainer").style.display="none";if(!empty(a.breadcrumbs)){e.style.display="block";e.innerHTML="";var c="/";akeeba.Configuration.FtpBrowser.addCrumb(akeeba.System.Text._("COM_AKEEBA_FILEFILTERS_LABEL_UIROOT"),"/",e,akeeba.Configuration.SftpBrowser);
for(i=0;i<a.breadcrumbs.length;i++){var f=a.breadcrumbs[i];c+="/"+f;akeeba.Configuration.FtpBrowser.addCrumb(f,c,e,akeeba.Configuration.SftpBrowser)}}if(!empty(a.list))for(b.style.display="block",akeeba.Configuration.SftpBrowser.params.directory||(akeeba.Configuration.SftpBrowser.params.directory=a.directory),i=0;i<a.list.length;i++)e=a.list[i],akeeba.Configuration.FtpBrowser.createLink(a.directory+"/"+e,e,b,akeeba.Configuration.SftpBrowser)}},function(a){document.getElementById("sftpBrowserError").innerHTML=
a;document.getElementById("sftpBrowserErrorContainer").style.display="block";document.getElementById("sftpBrowserFolderList").style.display="none";document.getElementById("sftpBrowserCrumbs").style.display="none"},!1)};akeeba.Configuration.SftpBrowser.callback=function(a){var b="/".replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^:])/g,"$1");a="/"+(a+"").replace(new RegExp("^["+b+"]+","g"),"");document.getElementById("var["+akeeba.Configuration.SftpBrowser.params.key+"]").value=a};
akeeba.Configuration.FtpTest.testConnection=function(a,b,d){var e=document.getElementById("var["+a+"]");akeeba.Configuration.FtpTest.buttonKey="var["+a+"]";null===e&&(e=document.getElementById(a),akeeba.Configuration.FtpTest.buttonKey=a);null===e&&console.warn("Button "+akeeba.Configuration.FtpTest.buttonKey+" not found");e.setAttribute("disabled","disabled");a={};try{a={isCurl:d?1:0,host:document.getElementById("var["+b+".host]").value,port:document.getElementById("var["+b+".port]").value,user:document.getElementById("var["+
b+".user]").value,pass:document.getElementById("var["+b+".pass]").value,initdir:document.getElementById("var["+b+".initial_directory]").value,usessl:document.getElementById("var["+b+".ftps]").checked,passive:document.getElementById("var["+b+".passive_mode]").checked,passive_mode_workaround:0}}catch(c){a={isCurl:d?1:0,host:document.getElementById(b+"_host").value,port:document.getElementById(b+"_port").value,user:document.getElementById(b+"_user").value,pass:document.getElementById(b+"_pass").value,
initdir:document.getElementById(b+"_initial_directory").value,usessl:document.getElementById(b+"_ftps").checked,passive:document.getElementById(b+"_passive_mode").checked,passive_mode_workaround:0}}if(d)try{a.passive_mode_workaround=document.getElementById("var["+b+".passive_mode_workaround]").checked}catch(c){a.passive_mode_workaround=document.getElementById(b+"_passive_mode_workaround").checked}a.ajaxURL=akeeba.Configuration.URLs.testFtp;akeeba.System.doAjax(a,function(a){document.getElementById(akeeba.Configuration.FtpTest.buttonKey).removeAttribute("disabled");
var b=document.getElementById("testFtpDialogBodyOk"),c=document.getElementById("testFtpDialogBodyFail"),d=document.getElementById("testFtpDialogLabel");b.style.display="none";c.style.display="none";!0===a?(d.textContent=akeeba.System.Text._("COM_AKEEBA_CONFIG_DIRECTFTP_TEST_OK"),b.textContent=akeeba.System.Text._("COM_AKEEBA_CONFIG_DIRECTFTP_TEST_OK"),b.style.display="block",c.style.display="none"):(d.textContent=akeeba.System.Text._("COM_AKEEBA_CONFIG_DIRECTFTP_TEST_FAIL"),c.textContent=a,b.style.display=
"none",c.style.display="block");akeeba.Modal.open({inherit:"#testFtpDialog",width:"80%"})},null,!1,15E3)};
akeeba.Configuration.SftpTest.testConnection=function(a,b,d){var e=document.getElementById("var["+a+"]");akeeba.Configuration.SftpTest.buttonKey="var["+a+"]";e.setAttribute("disabled","disabled");a={isCurl:d?1:0,host:document.getElementById("var["+b+".host]").value,port:document.getElementById("var["+b+".port]").value,user:document.getElementById("var["+b+".user]").value,pass:document.getElementById("var["+b+".pass]").value,initdir:document.getElementById("var["+b+".initial_directory]").value,privkey:document.getElementById("var["+
b+".privkey]").value,pubkey:document.getElementById("var["+b+".pubkey]").value};a.ajaxURL=akeeba.Configuration.URLs.testSftp;akeeba.System.doAjax(a,function(a){document.getElementById(akeeba.Configuration.SftpTest.buttonKey).removeAttribute("disabled");var b=document.getElementById("testFtpDialogBodyOk"),c=document.getElementById("testFtpDialogBodyFail"),d=document.getElementById("testFtpDialogLabel");b.style.display="none";c.style.display="none";!0===a?(d.textContent=akeeba.System.Text._("COM_AKEEBA_CONFIG_DIRECTSFTP_TEST_OK"),
b.textContent=akeeba.System.Text._("COM_AKEEBA_CONFIG_DIRECTSFTP_TEST_OK"),b.style.display="block",c.style.display="none"):(d.textContent=akeeba.System.Text._("COM_AKEEBA_CONFIG_DIRECTSFTP_TEST_FAIL"),c.textContent=a,b.style.display="none",c.style.display="block");akeeba.Modal.open({inherit:"#testFtpDialog",width:"80%"})},null,!1,15E3)};
akeeba.Configuration.enablePopoverFor=function(a){if("object"==typeof a&&NodeList.prototype.isPrototypeOf(a))for(i=0;i<a.length;i++)akeeba.Configuration.enablePopoverFor(a[i]);else akeeba.Tooltip.enableFor(a)};
akeeba.Configuration.parseGuiData=function(a,b){null==b&&(b=document.getElementById("akeebagui"));b.innerHTML="";var d=0,e;for(e in a)if(a.hasOwnProperty(e)){var c=a[e];d++;if(!empty(c)){var f=document.createElement("div");f.className="akeeba-panel--info";b.appendChild(f);var g=document.createElement("header");g.id="auigrp_"+b.id+"_"+d;g.className="akeeba-block-header";var k=document.createElement("h5");k.innerHTML=e;g.appendChild(k);f.appendChild(g);for(var l in c)if(c.hasOwnProperty(l)){g=c[l];
k="var["+l+"]";var h=document.createElement("div");h.className="akeeba-ui-optionrow akeeba-form-group";h.id="akconfigrow."+l;"hidden"!==g.type&&"none"!==g.type&&f.appendChild(h);akeeba.Configuration.GUI.renderOptionLabel(k,g,h);var m=document.createElement("div");m.className="akeeba-form-controls";var n="renderOptionType"+(g.type[0].toUpperCase()+g.type.slice(1));if("function"===typeof akeeba.Configuration.GUI[n])akeeba.Configuration.GUI[n](k,g,m,h,f);else akeeba.Configuration.GUI.renderOptionTypeUnknown(k,
g,m,h,f)}}}akeeba.Configuration.enablePopoverFor(b.querySelectorAll('[rel="akeeba-sticky-tooltip"]'))};
akeeba.Configuration.GUI.renderOptionLabel=function(a,b,d){if("hidden"!=b.type&&"none"!=b.type){var e=document.createElement("label");e.className="akeeba-control-label";e.setAttribute("for",a);e.innerHTML=b.title;b.description&&(e.setAttribute("rel","akeeba-sticky-tooltip"),e.setAttribute("data-original-title",b.title),e.setAttribute("data-content",b.description));b.bold&&(e.style.fontWeight="bold");d.appendChild(e)}};akeeba.Configuration.GUI.renderOptionTypeNone=function(a,b,d,e,c){};
akeeba.Configuration.GUI.renderOptionTypeHidden=function(a,b,d,e,c){d=document.createElement("input");d.id=a;d.setAttribute("type","hidden");d.setAttribute("name",a);d.setAttribute("size","40");d.value=b["default"];c.appendChild(d)};akeeba.Configuration.GUI.renderOptionTypeSeparator=function(a,b,d,e,c){a=document.createElement("div");a.className="akeeba_ui_separator";c.appendChild(a)};
akeeba.Configuration.GUI.renderOptionTypeCheckandhide=function(a,b,d,e,c){c=document.createElement("span");d.appendChild(c);e.appendChild(d);d=document.createElement("input");d.setAttribute("type","hidden");d.id=a;d.setAttribute("name",a);d.setAttribute("size","40");d.value=b["default"];c.appendChild(d);a=b.labelempty;""!=b["default"]&&(a=b.labelnotempty);d=document.createElement("span");d.textContent=a;c.appendChild(d);akeeba.System.data.set(d,"labelempty",b.labelempty);akeeba.System.data.set(d,
"labelnotempty",b.labelnotempty)};
akeeba.Configuration.GUI.renderOptionTypeInstaller=function(a,b,d,e,c){c=document.createElement("select");c.className="akeeba-configuration-select-installer";c.id=a;c.setAttribute("name",a);for(key in akeeba.Configuration.installers)if(akeeba.Configuration.installers.hasOwnProperty(key)){a=akeeba.Configuration.installers[key];var f=document.createElement("option");f.value=key;f.innerHTML=a.name;b["default"]==key&&f.setAttribute("selected",1);c.appendChild(f)}d.appendChild(c);e.appendChild(d)};
akeeba.Configuration.GUI.renderOptionTypeEngine=function(a,b,d,e,c){var f=b.subtype;if(null!=akeeba.Configuration.engines[f]){var g=a.substr(4,a.length-5),k=document.createElement("div");k.id=g+"_config";k.className="akeeba-hidden-mobile akeeba-hidden-desktop akeeba-engine-options";var l=document.createElement("select");l.id=a;l.setAttribute("name",a);a=akeeba.Configuration.engines[f];for(var h in a)if(a.hasOwnProperty(h)){c=a[h];var m=document.createElement("option");m.value=h;m.innerHTML=c.information.title;
b["default"]==h&&m.setAttribute("selected","selected");l.appendChild(m)}akeeba.System.addEventListener(l,"change",function(a){a={};var b=[document.getElementById(g+"_config").querySelectorAll("input"),document.getElementById(g+"_config").querySelectorAll("select")];for(i=0;i<b.length;i++){var c=b[i];if(c.length)for(j=0;j<c.length;j++){var d=c[j];var e=d.id;a[e]=d.value;"checkbox"==d.getAttribute("type")?a[e]=d.checked:"select"==d.getAttribute("type")&&(a[e]=d.options[d.selectedIndex].value)}}var h=
akeeba.Configuration.engines[f][l.value];b={};b[h.information.title]=h.parameters;akeeba.Configuration.parseGuiData(b,k);b=k.querySelector("header");b instanceof Element&&b.insertAdjacentHTML("afterend",'<p class="akeeba-block--information">'+h.information.description+"</p>");b=[document.getElementById(g+"_config").querySelectorAll("input"),document.getElementById(g+"_config").querySelectorAll("select")];for(i=0;i<b.length;i++)if(c=b[i],c.length)for(j=0;j<c.length;j++)d=c[j],e=d.id,e=a[e],null!=e&&
void 0!=e&&("checkbox"==d.getAttribute("type")?e?d.setAttribute("checked","checked"):d.removeAttribute("checked"):d.value=e,1==i&&akeeba.System.triggerEvent(d,"change"));if("undefined"!==typeof h.information.activation_callback)window[h.information.activation_callback](h.parameters)});h=document.createElement("button");h.className="akeeba-btn--small--dark";a=document.createElement("span");a.className="akion-wrench";h.appendChild(a);a=document.createElement("span");a.innerHTML=akeeba.System.Text._("COM_AKEEBA_CONFIG_UI_CONFIG");
h.appendChild(a);akeeba.System.addEventListener(h,"click",function(a){akeeba.System.toggleClass(k,"akeeba-hidden-mobile");akeeba.System.toggleClass(k,"akeeba-hidden-desktop");a.preventDefault?a.preventDefault():a.returnValue=!1});a=document.createElement("span");a.innerHTML="&nbsp;";d.appendChild(l);d.appendChild(a);d.appendChild(h);d.appendChild(k);e.appendChild(d);if(null!=akeeba.Configuration.engines[f][b["default"]]&&(d=akeeba.Configuration.engines[f][b["default"]],e=d.information.title,h={},
h[e]=d.parameters,0!=b["protected"]&&(document.createElement("span").textContent=e,l.style.display="none"),akeeba.Configuration.parseGuiData(h,k),b=k.querySelector("header"),b instanceof Element&&b.insertAdjacentHTML("afterend",'<p class="akeeba-block--information">'+d.information.description+"</p>"),"undefined"!==typeof d.information.activation_callback))window[d.information.activation_callback](d.parameters)}};
akeeba.Configuration.GUI.renderOptionTypeBrowsedir=function(a,b,d,e,c){var f=document.createElement("input");f.setAttribute("type","text");f.setAttribute("name",a);f.setAttribute("size","30");f.id=a;f.value=b["default"];a=document.createElement("button");a.className="akeeba-btn--grey";a.setAttribute("title",akeeba.System.Text._("COM_AKEEBA_CONFIG_UI_BROWSE"));b=document.createElement("span");b.className="akion-folder";a.appendChild(b);akeeba.System.addEventListener(a,"click",function(a){a.preventDefault?
a.preventDefault():a.returnValue=!1;if(null!=akeeba.Configuration.onBrowser)akeeba.Configuration.onBrowser(f.value,f);return!1});b=document.createElement("div");b.className="akeeba-input-group";c=document.createElement("span");c.className="akeeba-input-group-btn";b.appendChild(f);c.appendChild(a);b.appendChild(c);d.appendChild(b);e.appendChild(d)};
akeeba.Configuration.GUI.renderOptionTypeButtonedit=function(a,b,d,e,c){var f="hidden"==b.editortype?"hidden":"text";c=document.createElement("input");c.className="akeeba-configuration-buttonedit";c.setAttribute("type",f);c.setAttribute("name",a);c.setAttribute("size",30);c.value=b["default"];"1"==b.editordisabled&&c.setAttribute("disabled","disabled");a=document.createElement("button");a.innerHTML=akeeba.System.Text._(b.buttontitle);a.className="akeeba-btn--grey";akeeba.System.addEventListener(a,
"click",function(a){a.preventDefault?a.preventDefault():a.returnValue=!1;a=b.hook;try{window[a]()}catch(k){}});f=document.createElement("span");f.className="input-append";f.appendChild(c);f.appendChild(a);d.appendChild(f);e.appendChild(d)};
akeeba.Configuration.GUI.renderOptionTypeEnum=function(a,b,d,e,c){var f=document.createElement("select");f.className="akeeba-configuration-select-enum";f.id=a;f.setAttribute("name",a);a=b.enumvalues.split("|");c=b.enumkeys.split("|");for(counter=0;counter<a.length;counter++){var g=a[counter],k=c[counter],l=document.createElement("option");l.value=g;l.innerHTML=k;g==b["default"]&&l.setAttribute("selected","selected");f.appendChild(l)}"undefined"!==typeof b.onchange&&akeeba.System.addEventListener(f,
"change",function(){(0,b.onchange)(f)});d.appendChild(f);e.appendChild(d)};akeeba.Configuration.GUI.renderOptionTypeString=function(a,b,d,e,c){c=document.createElement("input");c.className="akeeba-configuration-string";c.setAttribute("type","text");c.id=a;c.setAttribute("name",a);c.setAttribute("size",40);c.value=b["default"];d.appendChild(c);e.appendChild(d)};
akeeba.Configuration.GUI.renderOptionTypePassword=function(a,b,d,e,c){akeeba.Configuration.passwordFields[a]=b["default"];c=document.createElement("input");c.className="akeeba-configuration-password";c.setAttribute("type","password");c.id=a;c.setAttribute("name",a);c.setAttribute("size",40);c.value=b["default"];c.setAttribute("autocomplete","off");d.appendChild(c);e.appendChild(d)};
akeeba.Configuration.GUI.renderOptionTypeInteger=function(a,b,d,e,c){c=a.substr(4,a.length-5);var f=document.createElement("input");f.id=c;f.setAttribute("name",a);f.setAttribute("type","hidden");f.value=b["default"];var g=document.createElement("input");g.setAttribute("type","text");g.setAttribute("size","10");g.id=c+"_custom";g.style.display="none";g.className="akeeba-form-input-mini";akeeba.System.addEventListener(g,"blur",function(){var a=parseFloat(g.value);a*=b.scale;a<b.min?a=b.min:a>b.max&&
(a=b.max);f.value=a;g.value=(a/b.scale).toFixed(2)});var k=document.createElement("select");k.id=c+"_dropdown";k.setAttribute("name",c+"_dropdown");k.className="akeeba-form-input-small";c=b.shortcuts.split("|");var l=b.scale;a=!1;for(counter=0;counter<c.length;counter++){var h=c[counter],m=h/l,n=document.createElement("option");n.value=h;n.innerHTML=m.toFixed(2);h==b["default"]&&(n.setAttribute("selected","selected"),a=!0);k.appendChild(n)}c=document.createElement("option");c.value=-1;c.innerHTML=
"Custom...";a||(c.setAttribute("selected","selected"),g.value=(b["default"]/b.scale).toFixed(2),g.style.display="inline-block");k.appendChild(c);akeeba.System.addEventListener(k,"change",function(){var a=k.value;-1==a?(g.value=(b["default"]/b.scale).toFixed(2),g.style.display="inline-block",akeeba.System.triggerEvent(g,"focus")):(f.value=a,g.style.display="none")});a=b.uom;"string"!=typeof a||empty(a)?(a="",d.appendChild(k),d.appendChild(g)):(c=document.createElement("div"),c.className="akeeba-input-group--small",
l=document.createElement("span"),l.textContent=" "+a,c.appendChild(k),c.appendChild(g),c.appendChild(l),d.appendChild(c));d.appendChild(f);e.appendChild(d)};
akeeba.Configuration.GUI.renderOptionTypeBool=function(a,b,d,e,c){c=document.createElement("div");c.className="akeeba-ui-checkbox";var f=document.createElement("input");f.setAttribute("name",a);f.setAttribute("type","hidden");f.value=0;c.appendChild(f);f=document.createElement("input");f.id=a;f.setAttribute("name",a);f.setAttribute("type","checkbox");f.setAttribute("value",1);0!=b["default"]&&f.setAttribute("checked","checked");c.appendChild(f);d.appendChild(c);e.appendChild(d)};
akeeba.Configuration.GUI.renderOptionTypeButton=function(a,b,d,e,c){c=e.querySelector("label");var f=b.hook;b=c.innerHTML;var g=document.createElement("button");g.id=a;g.innerHTML=b;g.className="akeeba-btn--grey";c.innerHTML="&nbsp;";akeeba.System.addEventListener(g,"click",function(a){a.preventDefault?a.preventDefault():a.returnValue=!1;try{window[f]()}catch(l){}});d.appendChild(g);e.appendChild(d)};
akeeba.Configuration.GUI.renderOptionTypeUnknown=function(a,b,d,e,c){a=a.substr(4,a.length-5);d="akeeba_render_"+b.type;c=window[d];if("function"==typeof c)c(a,b,label,e);else try{window[d](a,b,label,e)}catch(f){}};akeeba.Configuration.onChangeScriptType=function(a){a=a.options[a.selectedIndex].value;a="joomla"===a?"angie":"angie-"+a;for(var b=document.getElementById("var[akeeba.advanced.embedded_installer]"),d=b.children,e=0;e<d.length;e++)if(d[e].value===a){b.value=a;break}};
akeeba.Configuration.onChangeDbDriver=function(){var a=this.value,b=document.getElementById("akconfigrow.akeeba.platform.dbhost"),d=document.getElementById("akconfigrow.akeeba.platform.dbport"),e=document.getElementById("akconfigrow.akeeba.platform.dbusername"),c=document.getElementById("akconfigrow.akeeba.platform.dbpassword"),f=document.getElementById("akconfigrow.akeeba.platform.dbprefix"),g=document.getElementById("akconfigrow.akeeba.platform.dbname");b.style.display="grid";d.style.display="grid";
e.style.display="grid";c.style.display="grid";f.style.display="grid";g.style.display="grid";if("sqlite"==a||"none"==a)b.style.display="none",d.style.display="none",e.style.display="none",c.style.display="none",f.style.display="none",b.value="",d.value="",e.value="",c.value="",f.value="";"none"==a&&(g.value="",g.style.display="none")};akeeba_directftp_init_browser=function(){akeeba.Configuration.FtpBrowser.initialise("engine.archiver.directftp.initial_directory","engine.archiver.directftp")};
akeeba_postprocftp_init_browser=function(){akeeba.Configuration.FtpBrowser.initialise("engine.postproc.ftp.initial_directory","engine.postproc.ftp")};akeeba_directsftp_init_browser=function(){akeeba.Configuration.SftpBrowser.initialise("engine.archiver.directsftp.initial_directory","engine.archiver.directsftp")};akeeba_postprocsftp_init_browser=function(){akeeba.Configuration.FtpBrowser.initialise("engine.postproc.sftp.initial_directory","engine.postproc.sftp")};
directftp_test_connection=function(){akeeba.Configuration.FtpTest.testConnection("engine.archiver.directftp.ftp_test","engine.archiver.directftp",0)};postprocftp_test_connection=function(){akeeba.Configuration.FtpTest.testConnection("engine.postproc.ftp.ftp_test","engine.postproc.ftp",0)};directftpcurl_test_connection=function(){akeeba.Configuration.FtpTest.testConnection("engine.archiver.directftpcurl.ftp_test","engine.archiver.directftpcurl",1)};
postprocftpcurl_test_connection=function(){akeeba.Configuration.FtpTest.testConnection("engine.postproc.ftpcurl.ftp_test","engine.postproc.ftpcurl",1)};directsftp_test_connection=function(){akeeba.Configuration.SftpTest.testConnection("engine.archiver.directsftp.sftp_test","engine.archiver.directsftp",0)};postprocsftp_test_connection=function(){akeeba.Configuration.SftpTest.testConnection("engine.postproc.sftp.sftp_test","engine.postproc.sftp",0)};
directsftpcurl_test_connection=function(){akeeba.Configuration.SftpTest.testConnection("engine.archiver.directsftpcurl.sftp_test","engine.archiver.directsftpcurl",1)};postprocsftpcurl_test_connection=function(){akeeba.Configuration.SftpTest.testConnection("engine.postproc.sftpcurl.sftp_test","engine.postproc.sftpcurl",1)};akconfig_dropbox_openoauth=function(){var a=akeeba.Configuration.URLs.dpeauthopen;a=-1==a.indexOf("?")?a+"?":a+"&";window.open(a+"engine=dropbox","akeeba_dropbox_window","width=1010,height=500")};
akconfig_dropbox_gettoken=function(){akeeba.System.AjaxURL=akeeba.Configuration.URLs.dpecustomapi;akeeba.System.doAjax({engine:"dropbox",method:"getauth"},function(a){""!=a.error?alert("ERROR: Could not complete authentication; please retry"):(document.getElementById("var[engine.postproc.dropbox.token]").value=a.token.oauth_token,document.getElementById("var[engine.postproc.dropbox.token_secret]").value=a.token.oauth_token_secret,document.getElementById("var[engine.postproc.dropbox.uid]").value=a.token.uid,
alert("Authentication successful!"))},function(a){alert("ERROR: Could not complete authentication; please retry\n"+a)},!1,15E3)};akconfig_dropbox2_openoauth=function(){var a=akeeba.Configuration.URLs.dpeauthopen;a=-1==a.indexOf("?")?a+"?":a+"&";window.open(a+"engine=dropbox2","akeeba_dropbox2_window","width=1010,height=500")};
akeeba_dropbox2_oauth_callback=function(a){document.getElementById("var[engine.postproc.dropbox2.access_token]").value=a.access_token;myWindow=window.open("","akeeba_dropbox2_window");myWindow.close()};akconfig_onedrive_openoauth=function(){var a=akeeba.Configuration.URLs.dpeauthopen;a=-1==a.indexOf("?")?a+"?":a+"&";window.open(a+"engine=onedrive","akeeba_onedrive_window","width=1010,height=500")};
akeeba_onedrive_oauth_callback=function(a){document.getElementById("var[engine.postproc.onedrive.access_token]").value=a.access_token;document.getElementById("var[engine.postproc.onedrive.refresh_token]").value=a.refresh_token;myWindow=window.open("","akeeba_onedrive_window");myWindow.close()};akconfig_onedrivebusiness_openoauth=function(){var a=akeeba.Configuration.URLs.dpeauthopen;a=-1==a.indexOf("?")?a+"?":a+"&";window.open(a+"engine=onedrivebusiness","akeeba_onedrivebusiness_window","width=1010,height=500")};
akeeba_onedrivebusiness_oauth_callback=function(a){document.getElementById("var[engine.postproc.onedrivebusiness.access_token]").value=a.access_token;document.getElementById("var[engine.postproc.onedrivebusiness.refresh_token]").value=a.refresh_token;myWindow=window.open("","akeeba_onedrivebusiness_window");myWindow.close()};
akconfig_googledrive_openoauth=function(){var a=akeeba.Configuration.URLs.dpeauthopen;a=-1==a.indexOf("?")?a+"?":a+"&";window.open(a+"engine=googledrive","akeeba_googledrive_window","width=1010,height=500")};
akeeba_googledrive_oauth_callback=function(a){document.getElementById("var[engine.postproc.googledrive.access_token]").value=a.access_token;document.getElementById("var[engine.postproc.googledrive.refresh_token]").value=a.refresh_token;myWindow=window.open("","akeeba_googledrive_window");myWindow.close();akeeba_googledrive_refreshdrives()};
akeeba_googledrive_refreshdrives=function(a){a=a||{};"undefined"===typeof a["engine.postproc.googledrive.team_drive"]&&(a["engine.postproc.googledrive.team_drive"]={"default":document.getElementById("var[engine.postproc.googledrive.team_drive]").value});akeeba.System.AjaxURL=akeeba.Configuration.URLs.dpecustomapi;var b={engine:"googledrive",method:"getDrives",params:{"engine.postproc.googledrive.access_token":document.getElementById("var[engine.postproc.googledrive.access_token]").value,"engine.postproc.googledrive.refresh_token":document.getElementById("var[engine.postproc.googledrive.refresh_token]").value}};
akeeba.System.doAjax(b,function(b){if(0===b.length)alert("ERROR: Could not retrieve list of Google Drives.");else{var d=document.getElementById("var[engine.postproc.googledrive.team_drive]");d.innerHTML="";for(var c=0;c<b.length;c++){var f=document.createElement("option");f.value=b[c][0];f.text=b[c][1];a["engine.postproc.googledrive.team_drive"]["default"]===f.value&&(f.selected=!0);d.appendChild(f)}}},function(a){alert("ERROR: Could not retrieve list of Google Drives. Error: \n"+a)},!1,15E3)};
akconfig_box_openoauth=function(){var a=akeeba.Configuration.URLs.dpeauthopen;a=-1==a.indexOf("?")?a+"?":a+"&";window.open(a+"engine=box","akeeba_box_window","width=1010,height=500")};akconfig_box_oauth_callback=function(a){document.getElementById("var[engine.postproc.box.access_token]").value=a.access_token;document.getElementById("var[engine.postproc.box.refresh_token]").value=a.refresh_token;myWindow=window.open("","akeeba_box_window");myWindow.close()};
akconfig_pcloud_openoauth=function(){var a=akeeba.Configuration.URLs.dpeauthopen;a=-1==a.indexOf("?")?a+"?":a+"&";window.open(a+"engine=pcloud","akeeba_pcloud_window","width=1010,height=500")};akconfig_pcloud_oauth_callback=function(a){document.getElementById("var[engine.postproc.pcloud.access_token]").value=a.access_token;myWindow=window.open("","akeeba_pcloud_window");myWindow.close()};
akeeba.System.documentReady(function(){akeeba.Configuration.URLs=akeeba.System.getOptions("akeeba.Configuration.URLs",{});"undefined"!==typeof akeeba.Configuration.URLs.dpecustomapi&&(akeeba.System.params.AjaxURL=akeeba.Configuration.URLs.dpecustomapi);var a=akeeba.System.getOptions("akeeba.Configuration.GUIData",null);null!==a&&akeeba.Configuration.parseConfigData(a,function(){akeeba.Configuration.enablePopoverFor(document.querySelectorAll('[rel="popover"]'));var a=document.getElementById("var[akeeba.platform.dbdriver]");
akeeba.System.addEventListener(a,"change",akeeba.Configuration.onChangeDbDriver);akeeba.System.triggerEvent(a,"change");setTimeout(akeeba.Configuration.restoreDefaultPasswords,1E3)})}); //# sourceMappingURL=configuration.min.map
