function _typeof(e){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}if("undefined"==typeof akeeba)var akeeba={};"undefined"==typeof akeeba.Configuration&&(akeeba.Configuration={},akeeba.Configuration.GUI={},akeeba.Configuration.engines={},akeeba.Configuration.installers={},akeeba.Configuration.URLs={},akeeba.Configuration.FtpBrowser={params:{}},akeeba.Configuration.SftpBrowser={params:{}},akeeba.Configuration.FtpTest={},akeeba.Configuration.SftpTest={},akeeba.Configuration.FtpModal=null,akeeba.Configuration.passwordFields={},akeeba.Configuration.fsBrowser={params:{dialogId:"folderBrowserDialog",dialogBodyId:"folderBrowserDialogBody"},modalObject:null}),akeeba.Configuration.parseConfigData=function(e,t){akeeba.Configuration.engines=e.engines,akeeba.Configuration.installers=e.installers,akeeba.Configuration.parseGuiData(e.gui),"function"==typeof t&&t()},akeeba.Configuration.restoreDefaultPasswords=function(){for(var e in akeeba.Configuration.passwordFields)if(akeeba.Configuration.passwordFields.hasOwnProperty(e)){var t=akeeba.Configuration.passwordFields[e];(myElement=document.getElementById(e),!!myElement)&&(myElement.value="WORKAROUND FOR NAUGHTY BROWSERS",myElement.value=t)}},akeeba.Configuration.onBrowser=function(e,t){akeeba.Configuration.onBrowserCallback=function(e){t.value=e,"object"===_typeof(akeeba.Configuration.fsBrowser.modalObject)&&akeeba.Configuration.fsBrowser.modalObject.close&&akeeba.Configuration.fsBrowser.modalObject.close()};var n=akeeba.Configuration.URLs.browser+encodeURIComponent(e),r=document.getElementById(akeeba.Configuration.fsBrowser.params.dialogBodyId);r.innerHTML="";var o=document.createElement("iframe");o.setAttribute("src",n),o.setAttribute("width","100%"),o.setAttribute("height",400),o.setAttribute("frameborder",0),o.setAttribute("allowtransparency","true"),r.appendChild(o),akeeba.Configuration.fsBrowser.modalObject=akeeba.Modal.open({inherit:"#"+akeeba.Configuration.fsBrowser.params.dialogId,width:"80%"})},akeeba.Configuration.FtpBrowser.callback=function(e){var t="/".replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1"),n=new RegExp("^["+t+"]+","g");e="/"+(e+"").replace(n,""),document.getElementById("var["+akeeba.Configuration.FtpBrowser.params.key+"]").value=e},akeeba.Configuration.FtpBrowser.initialise=function(e,t){akeeba.Configuration.FtpBrowser.params.host=document.getElementById("var["+t+".host]").value,akeeba.Configuration.FtpBrowser.params.port=document.getElementById("var["+t+".port]").value,akeeba.Configuration.FtpBrowser.params.username=document.getElementById("var["+t+".user]").value,akeeba.Configuration.FtpBrowser.params.password=document.getElementById("var["+t+".pass]").value,akeeba.Configuration.FtpBrowser.params.passive=document.getElementById("var["+t+".passive_mode]_1").checked,akeeba.Configuration.FtpBrowser.params.ssl=document.getElementById("var["+t+".ftps]_1").checked,akeeba.Configuration.FtpBrowser.params.directory=document.getElementById("var["+t+".initial_directory]").value,akeeba.Configuration.FtpBrowser.params.key=e,akeeba.Configuration.FtpBrowser.open()},akeeba.Configuration.FtpBrowser.open=function(){var e=document.getElementById("ftpdialog");akeeba.System.addEventListener(document.getElementById("ftpdialogOkButton"),"click",function(){akeeba.Configuration.FtpBrowser.callback(akeeba.Configuration.FtpBrowser.params.directory),"object"===_typeof(akeeba.Configuration.FtpModal)&&akeeba.Configuration.FtpModal.close&&akeeba.Configuration.FtpModal.close()}),akeeba.System.addEventListener(document.getElementById("ftpdialogCancelButton"),"click",function(){"object"===_typeof(akeeba.Configuration.FtpModal)&&akeeba.Configuration.FtpModal.close&&akeeba.Configuration.FtpModal.close()}),akeeba.Configuration.FtpModal=akeeba.System.Modal.open({inherit:e,width:"80%"}),document.getElementById("ftpBrowserErrorContainer").style.display="none",document.getElementById("ftpBrowserFolderList").innerHTML="",document.getElementById("ftpBrowserCrumbs").innerHTML="",empty(akeeba.Configuration.FtpBrowser.params.directory)&&(akeeba.Configuration.FtpBrowser.params.directory="");var t={host:akeeba.Configuration.FtpBrowser.params.host,username:akeeba.Configuration.FtpBrowser.params.username,password:akeeba.Configuration.FtpBrowser.params.password,passive:akeeba.Configuration.FtpBrowser.params.passive?1:0,ssl:akeeba.Configuration.FtpBrowser.params.ssl?1:0,directory:akeeba.Configuration.FtpBrowser.params.directory};t.ajaxURL=akeeba.Configuration.URLs.ftpBrowser,akeeba.System.doAjax(t,function(e){var t=document.getElementById("ak_crumbs2"),n=document.getElementById("ftpBrowserFolderList");if(n.style.display="none",t.style.display="none",!1!=e.error)return document.getElementById("ftpBrowserError").innerHTML=e.error,void(document.getElementById("ftpBrowserErrorContainer").style.display="block");if(document.getElementById("ftpBrowserErrorContainer").style.display="none",!empty(e.breadcrumbs)){t.style.display="block",t.innerHTML="";var r="/";for(akeeba.Configuration.FtpBrowser.addCrumb(akeeba.System.Text._("COM_AKEEBA_FILEFILTERS_LABEL_UIROOT"),"/",t),i=0;i<e.breadcrumbs.length;i++){var o=e.breadcrumbs[i];r+="/"+o,akeeba.Configuration.FtpBrowser.addCrumb(o,r,t)}}if(!empty(e.list))for(n.style.display="block",akeeba.Configuration.FtpBrowser.params.directory||(akeeba.Configuration.FtpBrowser.params.directory=e.directory),i=0;i<e.list.length;i++){var a=e.list[i];akeeba.Configuration.FtpBrowser.createLink(e.directory+"/"+a,a,n)}},function(e){document.getElementById("ftpBrowserError").innerHTML=e,document.getElementById("ftpBrowserErrorContainer").style.display="block",document.getElementById("ftpBrowserFolderList").style.display="none",document.getElementById("ftpBrowserCrumbs").style.display="none"},!1)},akeeba.Configuration.FtpBrowser.createLink=function(e,t,n,r){"undefined"==typeof r&&(r=akeeba.Configuration.FtpBrowser);var o=document.createElement("tr"),a=document.createElement("td");o.appendChild(a);var s=document.createElement("a");s.textContent=t,akeeba.System.addEventListener(s,"click",function(){r.params.directory=e,r.open()}),a.appendChild(s),n.appendChild(o)},akeeba.Configuration.FtpBrowser.addCrumb=function(e,t,n,r){"undefined"==typeof r&&(r=akeeba.Configuration.FtpBrowser);var o=document.createElement("li"),a=document.createElement("a");a.textContent=e,akeeba.System.addEventListener(a,"click",function(n){r.params.directory=t,r.open(),n.preventDefault?n.preventDefault():n.returnValue=!1}),o.appendChild(a),n.appendChild(o)},akeeba.Configuration.SftpBrowser.initialise=function(e,t){akeeba.Configuration.SftpBrowser.params.host=document.getElementById("var["+t+".host]").value,akeeba.Configuration.SftpBrowser.params.port=document.getElementById("var["+t+".port]").value,akeeba.Configuration.SftpBrowser.params.username=document.getElementById("var["+t+".user]").value,akeeba.Configuration.SftpBrowser.params.password=document.getElementById("var["+t+".pass]").value,akeeba.Configuration.SftpBrowser.params.directory=document.getElementById("var["+t+".initial_directory]").value,akeeba.Configuration.SftpBrowser.params.privKey=document.getElementById("var["+t+".privkey]").value,akeeba.Configuration.SftpBrowser.params.pubKey=document.getElementById("var["+t+".pubkey]").value,akeeba.Configuration.SftpBrowser.params.key=e,akeeba.Configuration.SftpBrowser.open()},akeeba.Configuration.SftpBrowser.open=function(){var e=document.getElementById("sftpdialog");e.style.display="block",akeeba.System.addEventListener(document.getElementById("sftpdialogOkButton"),"click",function(){akeeba.Configuration.SftpBrowser.callback(akeeba.Configuration.SftpBrowser.params.directory),"object"===_typeof(akeeba.Configuration.FtpModal)&&akeeba.Configuration.FtpModal.close&&akeeba.Configuration.FtpModal.close()}),akeeba.System.addEventListener(document.getElementById("sftpdialogCancelButton"),"click",function(){"object"===_typeof(akeeba.Configuration.FtpModal)&&akeeba.Configuration.FtpModal.close&&akeeba.Configuration.FtpModal.close()}),akeeba.Configuration.FtpModal=akeeba.System.Modal.open({inherit:e,width:"80%"}),document.getElementById("sftpBrowserErrorContainer").style.display="none",document.getElementById("sftpBrowserFolderList").innerHTML="",document.getElementById("sftpBrowserCrumbs").innerHTML="",empty(akeeba.Configuration.SftpBrowser.params.directory)&&(akeeba.Configuration.SftpBrowser.params.directory="");var t={host:akeeba.Configuration.SftpBrowser.params.host,port:akeeba.Configuration.SftpBrowser.params.port,username:akeeba.Configuration.SftpBrowser.params.username,password:akeeba.Configuration.SftpBrowser.params.password,directory:akeeba.Configuration.SftpBrowser.params.directory,privkey:akeeba.Configuration.SftpBrowser.params.privKey,pubkey:akeeba.Configuration.SftpBrowser.params.pubKey};t.ajaxURL=akeeba.Configuration.URLs.sftpBrowser,akeeba.System.doAjax(t,function(e){var t=document.getElementById("sftpBrowserFolderList"),n=document.getElementById("ak_scrumbs");if(t.style.display="none",n.style.display="none",!1!=e.error)return document.getElementById("sftpBrowserError").innerHTML=e.error,void(document.getElementById("sftpBrowserErrorContainer").style.display="block");if(document.getElementById("ftpBrowserErrorContainer").style.display="none",!empty(e.breadcrumbs)){n.style.display="block",n.innerHTML="";var r="/";for(akeeba.Configuration.FtpBrowser.addCrumb(akeeba.System.Text._("COM_AKEEBA_FILEFILTERS_LABEL_UIROOT"),"/",n,akeeba.Configuration.SftpBrowser),i=0;i<e.breadcrumbs.length;i++){var o=e.breadcrumbs[i];r+="/"+o,akeeba.Configuration.FtpBrowser.addCrumb(o,r,n,akeeba.Configuration.SftpBrowser)}}if(!empty(e.list))for(t.style.display="block",akeeba.Configuration.SftpBrowser.params.directory||(akeeba.Configuration.SftpBrowser.params.directory=e.directory),i=0;i<e.list.length;i++){var a=e.list[i];akeeba.Configuration.FtpBrowser.createLink(e.directory+"/"+a,a,t,akeeba.Configuration.SftpBrowser)}},function(e){document.getElementById("sftpBrowserError").innerHTML=e,document.getElementById("sftpBrowserErrorContainer").style.display="block",document.getElementById("sftpBrowserFolderList").style.display="none",document.getElementById("sftpBrowserCrumbs").style.display="none"},!1)},akeeba.Configuration.SftpBrowser.callback=function(e){var t="/".replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1"),n=new RegExp("^["+t+"]+","g");e="/"+(e+"").replace(n,""),document.getElementById("var["+akeeba.Configuration.SftpBrowser.params.key+"]").value=e},akeeba.Configuration.FtpTest.testConnection=function(e,t,n){var r=document.getElementById("var["+e+"]");akeeba.Configuration.FtpTest.buttonKey="var["+e+"]",null===r&&(r=document.getElementById(e),akeeba.Configuration.FtpTest.buttonKey=e),null===r&&console.warn("Button "+akeeba.Configuration.FtpTest.buttonKey+" not found"),r.setAttribute("disabled","disabled");var o={};try{o={isCurl:n?1:0,host:document.getElementById("var["+t+".host]").value,port:document.getElementById("var["+t+".port]").value,user:document.getElementById("var["+t+".user]").value,pass:document.getElementById("var["+t+".pass]").value,initdir:document.getElementById("var["+t+".initial_directory]").value,usessl:document.getElementById("var["+t+".ftps]_1").checked?1:0,passive:document.getElementById("var["+t+".passive_mode]_1").checked?1:0,passive_mode_workaround:0}}catch(r){o={isCurl:n?1:0,host:document.getElementById(t+"_host").value,port:document.getElementById(t+"_port").value,user:document.getElementById(t+"_user").value,pass:document.getElementById(t+"_pass").value,initdir:document.getElementById(t+"_initial_directory").value,usessl:document.getElementById(t+"_ftps").checked?1:0,passive:document.getElementById(t+"_passive_mode").checked?1:0,passive_mode_workaround:0}}if(n)try{o.passive_mode_workaround=document.getElementById("var["+t+".passive_mode_workaround]_1").checked}catch(n){o.passive_mode_workaround=document.getElementById(t+"_passive_mode_workaround").checked}o.ajaxURL=akeeba.Configuration.URLs.testFtp,akeeba.System.doAjax(o,function(e){var t,n=document.getElementById(akeeba.Configuration.FtpTest.buttonKey);n.removeAttribute("disabled");var r=document.getElementById("testFtpDialogBodyOk"),o=document.getElementById("testFtpDialogBodyFail"),a=document.getElementById("testFtpDialogLabel");if(r.style.display="none",o.style.display="none",!0===(null!==(t=null===e||void 0===e?void 0:e.status)&&void 0!==t&&t))a.textContent=akeeba.System.Text._("COM_AKEEBA_CONFIG_DIRECTFTP_TEST_OK"),r.textContent=akeeba.System.Text._("COM_AKEEBA_CONFIG_DIRECTFTP_TEST_OK"),r.style.display="block",o.style.display="none";else{var s;a.textContent=akeeba.System.Text._("COM_AKEEBA_CONFIG_DIRECTFTP_TEST_FAIL"),o.textContent=null!==(s=null===e||void 0===e?void 0:e.status)&&void 0!==s?s:"???",r.style.display="none",o.style.display="block"}akeeba.Modal.open({inherit:"#testFtpDialog",width:"80%"})},null,!1,15e3)},akeeba.Configuration.SftpTest.testConnection=function(e,t,n){var r=document.getElementById("var["+e+"]");akeeba.Configuration.SftpTest.buttonKey="var["+e+"]",r.setAttribute("disabled","disabled");var o={isCurl:n?1:0,host:document.getElementById("var["+t+".host]").value,port:document.getElementById("var["+t+".port]").value,user:document.getElementById("var["+t+".user]").value,pass:document.getElementById("var["+t+".pass]").value,initdir:document.getElementById("var["+t+".initial_directory]").value,privkey:document.getElementById("var["+t+".privkey]").value,pubkey:document.getElementById("var["+t+".pubkey]").value};o.ajaxURL=akeeba.Configuration.URLs.testSftp,akeeba.System.doAjax(o,function(e){var t,n=document.getElementById(akeeba.Configuration.SftpTest.buttonKey);n.removeAttribute("disabled");var r=document.getElementById("testFtpDialogBodyOk"),o=document.getElementById("testFtpDialogBodyFail"),a=document.getElementById("testFtpDialogLabel");if(r.style.display="none",o.style.display="none",!0===(null!==(t=null===e||void 0===e?void 0:e.status)&&void 0!==t&&t))a.textContent=akeeba.System.Text._("COM_AKEEBA_CONFIG_DIRECTSFTP_TEST_OK"),r.textContent=akeeba.System.Text._("COM_AKEEBA_CONFIG_DIRECTSFTP_TEST_OK"),r.style.display="block",o.style.display="none";else{var s;a.textContent=akeeba.System.Text._("COM_AKEEBA_CONFIG_DIRECTSFTP_TEST_FAIL"),o.textContent=null!==(s=null===e||void 0===e?void 0:e.status)&&void 0!==s?s:"???",r.style.display="none",o.style.display="block"}akeeba.Modal.open({inherit:"#testFtpDialog",width:"80%"})},null,!1,15e3)},akeeba.Configuration.enablePopoverFor=function(t){if("object"==_typeof(t)&&NodeList.prototype.isPrototypeOf(t)){for(i=0;i<t.length;i++){var n=t[i];akeeba.Configuration.enablePopoverFor(n)}return}akeeba.Tooltip.enableFor(t)},akeeba.Configuration.parseGuiData=function(e,t){null==t&&(t=document.getElementById("akeebagui")),t.innerHTML="";var n=0;for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];if(n++,!empty(o)){var a=document.createElement("div");a.className="akeeba-panel--info",t.appendChild(a);var s=document.createElement("header");s.id="auigrp_"+t.id+"_"+n,s.className="akeeba-block-header";var d=document.createElement("h5");for(var l in d.innerHTML=r,s.appendChild(d),a.appendChild(s),o){var p;if(o.hasOwnProperty(l)){var u=o[l],g="var["+l+"]",c=null!==(p=u.showon)&&void 0!==p?p:null,f=document.createElement("div");f.className="akeeba-ui-optionrow akeeba-form-group",f.id="akconfigrow."+l,c&&(f.dataset.showon=JSON.stringify(c)),"hidden"!==u.type&&"none"!==u.type&&a.appendChild(f),akeeba.Configuration.GUI.renderOptionLabel(g,u,f);var m=document.createElement("div");m.className="akeeba-form-controls";var y=u.type[0].toUpperCase()+u.type.slice(1),C="renderOptionType"+y;"function"==typeof akeeba.Configuration.GUI[C]?akeeba.Configuration.GUI[C](g,u,m,f,a):akeeba.Configuration.GUI.renderOptionTypeUnknown(g,u,m,f,a)}}}}akeeba.Showon.initialise(t),akeeba.Configuration.enablePopoverFor(t.querySelectorAll("[rel=\"akeeba-sticky-tooltip\"]"))},akeeba.Configuration.GUI.renderOptionLabel=function(e,t,n){var r,o=0!=(null!==(r=t.nolabel)&&void 0!==r?r:0);if(!(o||"hidden"==t.type||"none"==t.type)){var a=document.createElement("label");a.className="akeeba-control-label",a.setAttribute("for",e),a.innerHTML=t.title,t.description&&(a.setAttribute("rel","akeeba-sticky-tooltip"),a.setAttribute("data-original-title",t.title),a.setAttribute("data-content",t.description)),t.bold&&(a.style.fontWeight="bold"),n.appendChild(a)}},akeeba.Configuration.GUI.renderOptionTypeNone=function(){},akeeba.Configuration.GUI.renderOptionTypeHidden=function(e,t,n,r,o){var a=document.createElement("input");a.id=e,a.setAttribute("type","hidden"),a.setAttribute("name",e),a.value=t["default"],o.appendChild(a)},akeeba.Configuration.GUI.renderOptionTypeSeparator=function(e,t,n,r,o){var a,s,d=null!==(a=t.element)&&void 0!==a?a:"div",l=null!==(s=t.content)&&void 0!==s?s:null,p=document.createElement(d);l&&(p.innerHTML=l),p.className="akeeba_ui_separator",o.appendChild(p)},akeeba.Configuration.GUI.renderOptionTypeInstaller=function(e,t,n,r){var o=document.createElement("select");for(key in o.className="akeeba-configuration-select-installer",o.id=e,o.setAttribute("name",e),akeeba.Configuration.installers)if(akeeba.Configuration.installers.hasOwnProperty(key)){var a=akeeba.Configuration.installers[key],s=document.createElement("option");s.value=key,s.innerHTML=a.name,t["default"]==key&&s.setAttribute("selected",1),o.appendChild(s)}n.appendChild(o),r.appendChild(n)},akeeba.Configuration.GUI.renderOptionTypeEngine=function(e,t,n,r){var o=t.subtype;if(null!=akeeba.Configuration.engines[o]){var a=e.substr(4,e.length-5),s=document.createElement("div");s.id=a+"_config",s.className="akeeba-engine-options";var d=document.createElement("select");d.id=e,d.setAttribute("name",e);var l=akeeba.Configuration.engines[o];for(var p in l)if(l.hasOwnProperty(p)){var u=l[p],g=document.createElement("option");g.value=p,g.innerHTML=u.information.title,t["default"]==p&&g.setAttribute("selected","selected"),d.appendChild(g)}akeeba.System.addEventListener(d,"change",function(){var e={},t=[document.getElementById(a+"_config").querySelectorAll("input"),document.getElementById(a+"_config").querySelectorAll("select")],n=null,r=null,l=null;for(i=0;i<t.length;i++)if(n=t[i],!!n.length)for(j=0;j<n.length;j++)r=n[j],l=r.id,e[l]=r.value,"checkbox"==r.getAttribute("type")?e[l]=r.checked:"select"==r.getAttribute("type")&&(e[l]=r.options[r.selectedIndex].value);var p=d.value,u=akeeba.Configuration.engines[o][p],g=u.information.title,c={};c[g]=u.parameters,akeeba.Configuration.parseGuiData(c,s);var f=s.querySelector("header");for(f instanceof Element&&f.insertAdjacentHTML("afterend","<p class=\"akeeba-block--information\">"+u.information.description+"</p>"),t=[document.getElementById(a+"_config").querySelectorAll("input"),document.getElementById(a+"_config").querySelectorAll("select")],i=0;i<t.length;i++)if(n=t[i],!!n.length)for(j=0;j<n.length;j++){r=n[j],l=r.id;var m=e[l];null!=m&&null!=m&&("checkbox"==r.getAttribute("type")?m?r.setAttribute("checked","checked"):r.removeAttribute("checked"):r.value=m,1==i&&akeeba.System.triggerEvent(r,"change"))}"undefined"!=typeof u.information.activation_callback&&window[u.information.activation_callback](u.parameters)});var c=document.createElement("button");c.className="akeeba-btn--small--dark";var f=document.createElement("span");f.className="akion-wrench",c.appendChild(f);var m=document.createElement("span");m.innerHTML=akeeba.System.Text._("COM_AKEEBA_CONFIG_UI_CONFIG"),c.appendChild(m),akeeba.System.addEventListener(c,"click",function(t){akeeba.System.toggleClass(s,"akeeba-hidden-mobile"),akeeba.System.toggleClass(s,"akeeba-hidden-desktop"),t.preventDefault?t.preventDefault():t.returnValue=!1});var y=document.createElement("span");if(y.innerHTML="&nbsp;",n.appendChild(d),n.appendChild(s),r.appendChild(n),null!=akeeba.Configuration.engines[o][t["default"]]){var C=t["default"],v=akeeba.Configuration.engines[o][C],b=v.information.title,B={};if(B[b]=v.parameters,0!=t["protected"]){var E=document.createElement("span");E.textContent=b,d.style.display="none"}akeeba.Configuration.parseGuiData(B,s);var h=s.querySelector("header");h instanceof Element&&h.insertAdjacentHTML("afterend","<p class=\"akeeba-block--information\">"+v.information.description+"</p>"),"undefined"!=typeof v.information.activation_callback&&window[v.information.activation_callback](v.parameters)}}},akeeba.Configuration.GUI.renderOptionTypeBrowsedir=function(e,t,n,r){var o=document.createElement("input");o.setAttribute("type","text"),o.setAttribute("name",e),o.setAttribute("size","30"),o.value=t["default"];var a=document.createElement("button");a.className="akeeba-btn--grey",a.setAttribute("title",akeeba.System.Text._("COM_AKEEBA_CONFIG_UI_BROWSE"));var s=document.createElement("span");s.className="akion-folder",a.appendChild(s),akeeba.System.addEventListener(a,"click",function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,null!=akeeba.Configuration.onBrowser&&akeeba.Configuration.onBrowser(o.value,o),!1});var d=document.createElement("div");d.className="akeeba-input-group",d.id=e;var l=document.createElement("span");l.className="akeeba-input-group-btn",d.appendChild(o),l.appendChild(a),d.appendChild(l),n.appendChild(d),r.appendChild(n)},akeeba.Configuration.GUI.renderOptionTypeEnum=function(e,t,n,r){var o=document.createElement("select");o.className="akeeba-configuration-select-enum",o.id=e,o.setAttribute("name",e);var a=t.enumvalues.split("|"),s=t.enumkeys.split("|");for(counter=0;counter<a.length;counter++){var d=a[counter],l=s[counter],p=document.createElement("option");p.value=d,p.innerHTML=l,d==t["default"]&&p.setAttribute("selected","selected"),o.appendChild(p)}"undefined"!=typeof t.onchange&&akeeba.System.addEventListener(o,"change",function(){var e=t.onchange;e(o)}),n.appendChild(o),r.appendChild(n)},akeeba.Configuration.GUI.renderOptionTypeString=function(e,t,n,r){var o=document.createElement("input");o.className="akeeba-configuration-string",o.setAttribute("type","text"),o.id=e,o.setAttribute("name",e),o.setAttribute("size",40),o.value=t["default"],n.appendChild(o),r.appendChild(n)},akeeba.Configuration.GUI.renderOptionTypePassword=function(e,t,n,r){akeeba.Configuration.passwordFields[e]=t["default"];var o=document.createElement("input");o.className="akeeba-configuration-password",o.setAttribute("type","password"),o.id=e,o.setAttribute("name",e),o.setAttribute("size",40),o.value=t["default"],o.setAttribute("autocomplete","off"),n.appendChild(o),r.appendChild(n)},akeeba.Configuration.GUI.renderOptionTypeInteger=function(e,t,n,r){var o=e.substr(4,e.length-5),a=document.createElement("input");a.id=o,a.setAttribute("name",e),a.setAttribute("type","hidden"),a.value=t["default"];var s=document.createElement("input");s.setAttribute("type","text"),s.setAttribute("size","10"),s.id=o+"_custom",s.style.display="none",s.className="akeeba-form-input-mini",akeeba.System.addEventListener(s,"blur",function(){var e=parseFloat(s.value);e*=t.scale,e<t.min?e=t.min:e>t.max&&(e=t.max),a.value=e;var n=e/t.scale;s.value=n.toFixed(2)});var d=document.createElement("select");d.id=o+"_dropdown",d.setAttribute("name",o+"_dropdown"),d.className="akeeba-form-input-small";var l=t.shortcuts.split("|"),p=t.scale,u=!1;for(counter=0;counter<l.length;counter++){var g=l[counter],c=g/p,f=document.createElement("option");f.value=g,f.innerHTML=c.toFixed(2),g==t["default"]&&(f.setAttribute("selected","selected"),u=!0),d.appendChild(f)}var m=document.createElement("option");m.value=-1,m.innerHTML="Custom...",u||(m.setAttribute("selected","selected"),s.value=(t["default"]/t.scale).toFixed(2),s.style.display="inline-block"),d.appendChild(m),akeeba.System.addEventListener(d,"change",function(){var e=d.value;return-1==e?(s.value=(t["default"]/t.scale).toFixed(2),s.style.display="inline-block",void akeeba.System.triggerEvent(s,"focus")):void(a.value=e,s.style.display="none")});var y=t.uom;if("string"!=typeof y||empty(y))y="",n.appendChild(d),n.appendChild(s);else{var C=document.createElement("div");C.className="akeeba-input-group--small";var v=document.createElement("span");v.textContent=" "+y,C.appendChild(d),C.appendChild(s),C.appendChild(v),n.appendChild(C)}n.appendChild(a),r.appendChild(n)},akeeba.Configuration.GUI.renderOptionTypeBool=function(e,t,n,r){var o=document.createElement("div");o.className="akeeba-toggle",o.id=e;var a=document.createElement("input");a.id=e+"_1",a.type="radio",a.name=e,a.value="1";var s=document.createElement("label");s.setAttribute("for",e+"_1"),s.classList.add("green"),s.innerText=akeeba.System.Text._("SOLO_YES");var d=document.createElement("input");d.id=e+"_0",d.type="radio",d.name=e,d.value="0";var l=document.createElement("label");l.setAttribute("for",e+"_0"),l.classList.add("red"),l.innerText=akeeba.System.Text._("SOLO_NO"),0==t["default"]?d.setAttribute("checked","checked"):a.setAttribute("checked","checked"),o.appendChild(a),o.appendChild(s),o.appendChild(d),o.appendChild(l),n.appendChild(o),r.appendChild(n)},akeeba.Configuration.GUI.renderOptionTypeButton=function(e,t,n,r){var o=r.querySelector("label"),a=t.hook,s=o.innerHTML,d=document.createElement("button");d.id=e,d.innerHTML=s,d.className="akeeba-btn--grey",o.innerHTML="&nbsp;",akeeba.System.addEventListener(d,"click",function(t){t.preventDefault?t.preventDefault():t.returnValue=!1;try{window[a]()}catch(e){}}),n.appendChild(d),r.appendChild(n)},akeeba.Configuration.GUI.renderOptionTypeUnknown=function(e,t,n,r){var o=e.substr(4,e.length-5),a="akeeba_render_"+t.type,s=window[a];if("function"==typeof s)s(o,t,label,r);else try{window[a](o,t,label,r)}catch(t){}},akeeba.Configuration.onChangeScriptType=function(e){for(var t,n=e.options[e.selectedIndex].value,r="joomla"===n?"angie":"angie-"+n,o=document.getElementById("var[akeeba.advanced.embedded_installer]"),a=o.children,s=0;s<a.length;s++)if(t=a[s],t.value===r)return void(o.value=r)},akeeba.Configuration.onChangeDbDriver=function(){var e=this.value,t=document.getElementById("akconfigrow.akeeba.platform.dbhost"),n=document.getElementById("akconfigrow.akeeba.platform.dbport"),r=document.getElementById("akconfigrow.akeeba.platform.dbusername"),o=document.getElementById("akconfigrow.akeeba.platform.dbpassword"),a=document.getElementById("akconfigrow.akeeba.platform.dbprefix"),s=document.getElementById("akconfigrow.akeeba.platform.dbname");t.style.display="grid",n.style.display="grid",r.style.display="grid",o.style.display="grid",a.style.display="grid",s.style.display="grid",("sqlite"==e||"none"==e)&&(t.style.display="none",n.style.display="none",r.style.display="none",o.style.display="none",a.style.display="none",t.value="",n.value="",r.value="",o.value="",a.value=""),"none"==e&&(s.value="",s.style.display="none")},akeeba_directftp_init_browser=function akeeba_directftp_init_browser(){akeeba.Configuration.FtpBrowser.initialise("engine.archiver.directftp.initial_directory","engine.archiver.directftp")},akeeba_postprocftp_init_browser=function akeeba_postprocftp_init_browser(){akeeba.Configuration.FtpBrowser.initialise("engine.postproc.ftp.initial_directory","engine.postproc.ftp")},akeeba_directsftp_init_browser=function akeeba_directsftp_init_browser(){akeeba.Configuration.SftpBrowser.initialise("engine.archiver.directsftp.initial_directory","engine.archiver.directsftp")},akeeba_postprocsftp_init_browser=function akeeba_postprocsftp_init_browser(){akeeba.Configuration.FtpBrowser.initialise("engine.postproc.sftp.initial_directory","engine.postproc.sftp")},directftp_test_connection=function directftp_test_connection(){akeeba.Configuration.FtpTest.testConnection("engine.archiver.directftp.ftp_test","engine.archiver.directftp",0)},postprocftp_test_connection=function postprocftp_test_connection(){akeeba.Configuration.FtpTest.testConnection("engine.postproc.ftp.ftp_test","engine.postproc.ftp",0)},directftpcurl_test_connection=function directftpcurl_test_connection(){akeeba.Configuration.FtpTest.testConnection("engine.archiver.directftpcurl.ftp_test","engine.archiver.directftpcurl",1)},postprocftpcurl_test_connection=function postprocftpcurl_test_connection(){akeeba.Configuration.FtpTest.testConnection("engine.postproc.ftpcurl.ftp_test","engine.postproc.ftpcurl",1)},directsftp_test_connection=function directsftp_test_connection(){akeeba.Configuration.SftpTest.testConnection("engine.archiver.directsftp.sftp_test","engine.archiver.directsftp",0)},postprocsftp_test_connection=function postprocsftp_test_connection(){akeeba.Configuration.SftpTest.testConnection("engine.postproc.sftp.sftp_test","engine.postproc.sftp",0)},directsftpcurl_test_connection=function directsftpcurl_test_connection(){akeeba.Configuration.SftpTest.testConnection("engine.archiver.directsftpcurl.sftp_test","engine.archiver.directsftpcurl",1)},postprocsftpcurl_test_connection=function postprocsftpcurl_test_connection(){akeeba.Configuration.SftpTest.testConnection("engine.postproc.sftpcurl.sftp_test","engine.postproc.sftpcurl",1)},akconfig_dropbox_openoauth=function akconfig_dropbox_openoauth(){var e=akeeba.Configuration.URLs.dpeauthopen;e+=-1==e.indexOf("?")?"?":"&",window.open(e+"engine=dropbox","akeeba_dropbox_window","width=1010,height=500,opener")},akconfig_dropbox_gettoken=function akconfig_dropbox_gettoken(){akeeba.System.AjaxURL=akeeba.Configuration.URLs.dpecustomapi;akeeba.System.doAjax({engine:"dropbox",method:"getauth"},function(e){""==e.error?(document.getElementById("var[engine.postproc.dropbox.token]").value=e.token.oauth_token,document.getElementById("var[engine.postproc.dropbox.token_secret]").value=e.token.oauth_token_secret,document.getElementById("var[engine.postproc.dropbox.uid]").value=e.token.uid,alert("Authentication successful!")):alert("ERROR: Could not complete authentication; please retry")},function(e){alert("ERROR: Could not complete authentication; please retry\n"+e)},!1,15e3)},akconfig_dropbox2_openoauth=function akconfig_dropbox2_openoauth(){var e=akeeba.Configuration.URLs.dpeauthopen;e+=-1==e.indexOf("?")?"?":"&",window.open(e+"engine=dropbox2","akeeba_dropbox2_window","width=1010,height=500,opener")},akeeba_dropbox2_oauth_callback=function akeeba_dropbox2_oauth_callback(e){document.getElementById("var[engine.postproc.dropbox2.access_token]").value=e.access_token,document.getElementById("var[engine.postproc.dropbox2.refresh_token]").value=e.refresh_token,myWindow=window.open("","akeeba_dropbox2_window"),myWindow.close()},akconfig_onedrive_openoauth=function akconfig_onedrive_openoauth(){var e=akeeba.Configuration.URLs.dpeauthopen;e+=-1==e.indexOf("?")?"?":"&",window.open(e+"engine=onedrive","akeeba_onedrive_window","width=1010,height=500,opener")},akeeba_onedrive_oauth_callback=function akeeba_onedrive_oauth_callback(e){document.getElementById("var[engine.postproc.onedrive.access_token]").value=e.access_token,document.getElementById("var[engine.postproc.onedrive.refresh_token]").value=e.refresh_token,myWindow=window.open("","akeeba_onedrive_window"),myWindow.close()},akconfig_onedrivebusiness_openoauth=function akconfig_onedrivebusiness_openoauth(){var e=akeeba.Configuration.URLs.dpeauthopen;e+=-1==e.indexOf("?")?"?":"&",window.open(e+"engine=onedrivebusiness","akeeba_onedrivebusiness_window","width=1010,height=500,opener")},akeeba_onedrivebusiness_oauth_callback=function akeeba_onedrivebusiness_oauth_callback(e){document.getElementById("var[engine.postproc.onedrivebusiness.access_token]").value=e.access_token,document.getElementById("var[engine.postproc.onedrivebusiness.refresh_token]").value=e.refresh_token,myWindow=window.open("","akeeba_onedrivebusiness_window"),myWindow.close()},akeeba_onedrivebusiness_refreshdrives=function akeeba_onedrivebusiness_refreshdrives(e){if("onedrivebusiness"===document.getElementById("var[akeeba.advanced.postproc_engine]").value){e=e||{},console.log(e),"undefined"==typeof e["engine.postproc.onedrivebusiness.drive"]&&(e["engine.postproc.onedrivebusiness.drive"]={default:document.getElementById("var[engine.postproc.googledrive.team_drive]").value}),akeeba.System.AjaxURL=akeeba.Configuration.URLs.dpecustomapi;var t={engine:"onedrivebusiness",method:"getDrives",params:{"engine.postproc.onedrivebusiness.access_token":document.getElementById("var[engine.postproc.googledrive.access_token]").value,"engine.postproc.onedrivebusiness.refresh_token":document.getElementById("var[engine.postproc.googledrive.refresh_token]").value}};akeeba.System.doAjax(t,function(t){var n;if(!(null!==t&&void 0!==t&&null!==(n=t.list)&&void 0!==n&&n.length))return void alert("ERROR: Could not retrieve list of OneDrive Drives.");var r=document.getElementById("var[engine.postproc.onedrivebusiness.drive]");r.innerHTML="",t.list.forEach(function(t){var n=document.createElement("option");n.value=t[0],n.text=t[1],e["engine.postproc.onedrivebusiness.drive"]["default"]===n.value&&(n.selected=!0),r.appendChild(n)})},function(e){alert("ERROR: Could not retrieve list of OneDrive Drives. Error: \n"+e)},!1,15e3)}},akconfig_googledrive_openoauth=function akconfig_googledrive_openoauth(){var e=akeeba.Configuration.URLs.dpeauthopen;e+=-1==e.indexOf("?")?"?":"&",window.open(e+"engine=googledrive","akeeba_googledrive_window","width=1010,height=500,opener")},akeeba_googledrive_oauth_callback=function akeeba_googledrive_oauth_callback(e){document.getElementById("var[engine.postproc.googledrive.access_token]").value=e.access_token,document.getElementById("var[engine.postproc.googledrive.refresh_token]").value=e.refresh_token,myWindow=window.open("","akeeba_googledrive_window"),myWindow.close(),akeeba_googledrive_refreshdrives()},akeeba_googledrive_refreshdrives=function akeeba_googledrive_refreshdrives(e){if("googledrive"===document.getElementById("var[akeeba.advanced.postproc_engine]").value){e=e||{},"undefined"==typeof e["engine.postproc.googledrive.team_drive"]&&(e["engine.postproc.googledrive.team_drive"]={default:document.getElementById("var[engine.postproc.googledrive.team_drive]").value}),akeeba.System.AjaxURL=akeeba.Configuration.URLs.dpecustomapi;var t={engine:"googledrive",method:"getDrives",params:{"engine.postproc.googledrive.access_token":document.getElementById("var[engine.postproc.googledrive.access_token]").value,"engine.postproc.googledrive.refresh_token":document.getElementById("var[engine.postproc.googledrive.refresh_token]").value}};akeeba.System.doAjax(t,function(t){var n;if(!(null!==t&&void 0!==t&&null!==(n=t.list)&&void 0!==n&&n.length))return void alert("ERROR: Could not retrieve list of Google Drives.");var r=document.getElementById("var[engine.postproc.googledrive.team_drive]");r.innerHTML="",t.list.forEach(function(t){var n=document.createElement("option");n.value=t[0],n.text=t[1],e["engine.postproc.googledrive.team_drive"]["default"]===n.value&&(n.selected=!0),r.appendChild(n)})},function(e){alert("ERROR: Could not retrieve list of Google Drives. Error: \n"+e)},!1,15e3)}},akconfig_box_openoauth=function akconfig_box_openoauth(){var e=akeeba.Configuration.URLs.dpeauthopen;e+=-1==e.indexOf("?")?"?":"&",window.open(e+"engine=box","akeeba_box_window","width=1010,height=500,opener")},akconfig_box_oauth_callback=function akconfig_box_oauth_callback(e){document.getElementById("var[engine.postproc.box.access_token]").value=e.access_token,document.getElementById("var[engine.postproc.box.refresh_token]").value=e.refresh_token,myWindow=window.open("","akeeba_box_window"),myWindow.close()},akeeba.System.documentReady(function(){akeeba.Configuration.URLs=akeeba.System.getOptions("akeeba.Configuration.URLs",{}),"undefined"!=typeof akeeba.Configuration.URLs.dpecustomapi&&(akeeba.System.params.AjaxURL=akeeba.Configuration.URLs.dpecustomapi);var e=akeeba.System.getOptions("akeeba.Configuration.GUIData",null);null===e||akeeba.Configuration.parseConfigData(e,function(){akeeba.Configuration.enablePopoverFor(document.querySelectorAll("[rel=\"popover\"]"));var e=document.getElementById("var[akeeba.platform.dbdriver]");akeeba.System.addEventListener(e,"change",akeeba.Configuration.onChangeDbDriver),akeeba.System.triggerEvent(e,"change"),setTimeout(akeeba.Configuration.restoreDefaultPasswords,1e3),akeeba_googledrive_refreshdrives(akeeba.Configuration.engines.postproc.googledrive.parameters),akeeba_onedrivebusiness_refreshdrives(akeeba.Configuration.engines.postproc.onedrivebusiness.parameters)})});

//# sourceMappingURL=configuration.min.js.map